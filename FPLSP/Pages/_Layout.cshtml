@using Microsoft.AspNetCore.Components.Web
@namespace FPLSP.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="~/" />
 
    <link href="css/site.css" rel="stylesheet" />
    <link href="FPLSP.styles.css" rel="stylesheet" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
          integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link href="BlazoredToast2.styles.css" rel="stylesheet" />
    <link href="_content/Blazored.Toast/blazored-toast.css" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="_content/Blazored.Typeahead/blazored-typeahead.css" rel="stylesheet" />
    <link rel="stylesheet" href="sweetalert2.min.css">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    

    <link href="_content/AntDesign/css/ant-design-blazor.css" rel="stylesheet" />
    <link href="css/site.css" rel="stylesheet" />
    <link href="FPLSP.styles.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/Host.css" />
    <link rel="stylesheet" href="css/Steper.css" />

    <!-- Main CSS-->
   
    <component type="typeof(HeadOutlet)" render-mode="ServerPrerendered" />
</head>
<body>
    @RenderBody()
    <div id="blazor-error-ui">
        <environment include="Staging,Production">
            An error has occurred. This application may no longer respond until reloaded.
        </environment>
        <environment include="Development">
            An unhandled exception has occurred. See browser dev tools for details.
        </environment>
        <a href="" class="reload">Reload</a>
        <a class="dismiss">🗙</a>
    </div>
   
    <script src="_framework/blazor.server.js"></script>
    <script>
        Blazor.defaultReconnectionHandler._reconnectCallback = function (d) {
            document.location.reload();
        }
    </script>
    <script src="_content/Microsoft.AspNetCore.ProtectedBrowserStorage/protectedBrowserStorage.js"></script>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/JavaScriptFPLSP.js"></script>
    <script src="_content/AntDesign/js/ant-design-blazor.js"></script>
    <script src="_content/Blazored.Typeahead/blazored-typeahead.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="_content/CurrieTechnologies.Razor.SweetAlert2/sweetAlert2.min.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="_content/Blazority/lib/webcomponents/custom-elements/custom-elements.min.js"></script>
    <script src="_content/Blazority/lib/clr/icons/clr-icons.min.js"></script>
    <script src="_content/Blazority/blazority.min.js"></script>
    <script type="text/javascript" src="scripts/webcam.min.js"></script>
    <script type="text/javascript">
        //window.onload = function () {
        //    if (document.cookie.indexOf("_instance=true") === -1) {
        //        document.cookie = "_instance=true";
        //        // Set the onunload function
        //        window.onunload = function () {
        //            document.cookie = "_instance=true;expires=Thu, 01-Jan-1970 00:00:01 GMT";
        //        };
        //        // Load the application
        //    }
        //    else {
        //        alert(" Security Alerts.You Are Opening Multiple Window. This window will now close.");
        //        var win = window.open("about:blank", "_self"); win.close();
        //        // Notify the user
        //    }
        //};

        async function downloadFileFromStream(fileName, contentStreamReference) {
            const arrayBuffer = await contentStreamReference.arrayBuffer();
            const blob = new Blob([arrayBuffer]);
            const url = URL.createObjectURL(blob);
            triggerFileDownload(fileName, url);
            URL.revokeObjectURL(url);
        }

        function triggerFileDownload(fileName, url) {
            const anchorElement = document.createElement('a');
            anchorElement.href = url;

            if (fileName) {
                anchorElement.download = fileName;
            }

            anchorElement.click();
            anchorElement.remove();
        }
   
        function copyToClipboard() {
            // Create a "hidden" input
            var aux = document.createElement("input");
            // Assign it the value of the specified element
            aux.setAttribute("value", "You can no longer print.This is part of the new system security measure.");
            // Append it to the body
            document.body.appendChild(aux);
            // Highlight its content
            aux.select();
            // Copy the highlighted text
            document.execCommand("copy");
            // Remove it from the body
            document.body.removeChild(aux);
            alert("Print screen diable.");
        }

        $(window).keyup(function (e) {
            if (e.keyCode == 44) {
                copyToClipboard();
            }
        });
        ////// transfers sessionStorage from one tab to another
        ////var sessionStorage_transfer = function (event) {
        ////    if (!event) { event = window.event; } // ie suq
        ////    if (!event.newValue) return;          // do nothing if no value to work with
        ////    if (event.key == 'getSessionStorage') {
        ////        // another tab asked for the sessionStorage -> send it
        ////        localStorage.setItem('sessionStorage', JSON.stringify(sessionStorage));
        ////        // the other tab should now have it, so we're done with it.
        ////        localStorage.removeItem('sessionStorage'); // <- could do short timeout as well.
        ////    } else if (event.key == 'sessionStorage' && !sessionStorage.length) {
        ////        // another tab sent data <- get it
        ////        var data = JSON.parse(event.newValue);
        ////        for (var key in data) {
        ////            sessionStorage.setItem(key, data[key]);
        ////        }
        ////    }
        ////};

        ////// listen for changes to localStorage
        ////if (window.addEventListener) {
        ////    window.addEventListener("storage", sessionStorage_transfer, false);
        ////} else {
        ////    window.attachEvent("onstorage", sessionStorage_transfer);
        ////};


        ////// Ask other tabs for session storage (this is ONLY to trigger event)
        ////if (!sessionStorage.length) {
        ////    localStorage.setItem('getSessionStorage', 'foobar');
        ////    localStorage.removeItem('getSessionStorage', 'foobar');
        ////};
          // Broadcast that you're opening a page.



    </script>
</body>
</html>
