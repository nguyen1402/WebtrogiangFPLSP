#pragma checksum "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "7a33be35fe5668e29b6155694beb1cf5e5ba1a44"
// <auto-generated/>
#pragma warning disable 1591
namespace FPLSP.Pages.NewFeed
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
#nullable restore
#line 1 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using FPLSP.Server.Infrastructure.ViewModels.NewFeed;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using Microsoft.AspNetCore.SignalR.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using FPLSP.Repositories.Interfaces;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using FPLSP.Server.Domain.Entities.CoresParts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using FPLSP.Server.Infrastructure.ViewModels.NewFeed;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using FPLSP.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using Microsoft.AspNetCore.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
           [Authorize(Roles = "Student")]

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.LayoutAttribute(typeof(MainLayout2))]
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/newfeed")]
    public partial class NewFeed : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "pad");
            __builder.AddMarkupContent(2, "<div id=\"carouselExampleCaptions\" class=\"carousel slide mb-3\" data-bs-ride=\"true\"><div class=\"carousel-indicators\"><button type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide-to=\"0\" class=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide-to=\"1\" aria-label=\"Slide 2\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide-to=\"2\" aria-label=\"Slide 3\"></button></div>\r\n        <div class=\"carousel-inner\"><div class=\"carousel-item active\"><img src=\"https://caodang.fpt.edu.vn/wp-content/uploads/BannerWeb-10.png\" class=\"d-block w-100\" alt=\"...\">\r\n                <div class=\"carousel-caption d-none d-md-block\"><h5>First slide label</h5>\r\n                    <p>Some representative placeholder content for the first slide.</p></div></div>\r\n            <div class=\"carousel-item\"><img src=\"https://caodang.fpt.edu.vn/wp-content/uploads/BannerWeb-10.png\" class=\"d-block w-100\" alt=\"...\">\r\n                <div class=\"carousel-caption d-none d-md-block\"><h5>Second slide label</h5>\r\n                    <p>Some representative placeholder content for the second slide.</p></div></div>\r\n            <div class=\"carousel-item\"><img src=\"https://caodang.fpt.edu.vn/wp-content/uploads/BannerWeb-10.png\" class=\"d-block w-100\" alt=\"...\">\r\n                <div class=\"carousel-caption d-none d-md-block\"><h5>Third slide label</h5>\r\n                    <p>Some representative placeholder content for the third slide.</p></div></div></div>\r\n        <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide=\"prev\"><span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Previous</span></button>\r\n        <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleCaptions\" data-bs-slide=\"next\"><span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Next</span></button></div>\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "row");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "col-lg-4");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "card text-center");
            __builder.AddMarkupContent(9, "<div class=\"card-header fst-italic\">\r\n                    Bảng Tin Chung <i class=\"fa-solid fa-bell\"></i></div>\r\n                ");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "card-body");
#nullable restore
#line 58 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
                     foreach (var x in _lstNewFeed.Where(c => c.IdTypeOfNewFeed == Guid.Parse("9a0ccc99-f28a-4608-8bd4-48ee2bd2e0fb")))
                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(12, "<div class=\"mb-2\"></div>\r\n                        ");
            __builder.OpenElement(13, "h6");
            __builder.AddAttribute(14, "class", "card-title");
#nullable restore
#line (62,49)-(62,61) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(15, x.CratedTime);

#line default
#line hidden
#nullable disable
            __builder.AddContent(16, " - ");
#nullable restore
#line (62,65)-(62,74) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(17, x.EndDate);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(18, "\r\n                        ");
            __builder.OpenElement(19, "h4");
            __builder.AddAttribute(20, "class", "card-title ");
            __builder.AddMarkupContent(21, "<i class=\"fa-solid fa-graduation-cap\"></i> ");
#nullable restore
#line (63,93)-(63,104) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(22, x.ClassName);

#line default
#line hidden
#nullable disable
            __builder.AddContent(23, " | ");
#nullable restore
#line (63,108)-(63,121) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(24, x.SubjectName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n                        ");
            __builder.OpenElement(26, "p");
            __builder.AddMarkupContent(27, "Người Đăng : ");
#nullable restore
#line (64,42)-(64,50) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(28, x.Sender);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(29, "\r\n                        ");
            __builder.OpenElement(30, "span");
            __builder.AddAttribute(31, "class", "card-text fs-5 text-danger");
            __builder.AddMarkupContent(32, "<i class=\"fa-regular fa-flag\"></i> ");
#nullable restore
#line (65,103)-(65,110) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(33, x.Title);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n                        ");
            __builder.OpenElement(35, "a");
            __builder.AddAttribute(36, "href", "/viewclass");
            __builder.AddAttribute(37, "class", "nav-link");
            __builder.AddMarkupContent(38, "<i class=\"fa-solid fa-angles-right\"></i> ");
#nullable restore
#line (66,106)-(66,115) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(39, x.Content);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(40, "\r\n                        <hr class=\"border border-danger border-2 opacity-50\">");
#nullable restore
#line 68 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(41, "\r\n        ");
            __builder.OpenElement(42, "div");
            __builder.AddAttribute(43, "class", "col-lg-4");
            __builder.OpenElement(44, "div");
            __builder.AddAttribute(45, "class", "card text-center");
            __builder.AddMarkupContent(46, "<div class=\"card-header\">\r\n                    Bảng Tin Về Assignment <i class=\"fa-solid fa-bell\"></i></div>\r\n                ");
            __builder.OpenElement(47, "div");
            __builder.AddAttribute(48, "class", "card-body");
#nullable restore
#line 80 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
                     foreach (var x in _lstNewFeed.Where(c => c.IdTypeOfNewFeed == Guid.Parse("2c153826-33ae-471c-b4e2-048b5408e384")))
                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(49, "<div class=\"mb-2\"></div>\r\n                        ");
            __builder.OpenElement(50, "h6");
            __builder.AddAttribute(51, "class", "card-title");
#nullable restore
#line (84,49)-(84,61) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(52, x.CratedTime);

#line default
#line hidden
#nullable disable
            __builder.AddContent(53, " - ");
#nullable restore
#line (84,65)-(84,74) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(54, x.EndDate);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(55, "\r\n                        ");
            __builder.OpenElement(56, "h4");
            __builder.AddAttribute(57, "class", "card-title ");
            __builder.AddMarkupContent(58, "<i class=\"fa-solid fa-graduation-cap\"></i> ");
#nullable restore
#line (85,93)-(85,104) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(59, x.ClassName);

#line default
#line hidden
#nullable disable
            __builder.AddContent(60, " | ");
#nullable restore
#line (85,108)-(85,121) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(61, x.SubjectName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(62, "\r\n                        ");
            __builder.OpenElement(63, "p");
            __builder.AddMarkupContent(64, "Người Đăng : ");
#nullable restore
#line (86,42)-(86,50) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(65, x.Sender);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(66, "\r\n                        ");
            __builder.OpenElement(67, "span");
            __builder.AddAttribute(68, "class", "card-text fs-5 text-danger");
            __builder.AddMarkupContent(69, "<i class=\"fa-regular fa-flag\"></i> ");
#nullable restore
#line (87,103)-(87,110) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(70, x.Title);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(71, "\r\n                        ");
            __builder.OpenElement(72, "a");
            __builder.AddAttribute(73, "href", "/viewclass");
            __builder.AddAttribute(74, "class", "nav-link");
            __builder.AddMarkupContent(75, "<i class=\"fa-solid fa-angles-right\"></i> ");
#nullable restore
#line (88,106)-(88,115) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
__builder.AddContent(76, x.Content);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n                        <hr class=\"border border-danger border-2 opacity-50\">");
#nullable restore
#line 90 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(78, "\r\n        ");
            __builder.AddMarkupContent(79, "<div class=\"col-lg-4\"><div id=\"carouselExampleDark\" class=\"carousel carousel-dark slide\" data-bs-ride=\"carousel\" style=\"height:500px\"><div class=\"carousel-indicators\"><button type=\"button\" data-bs-target=\"#carouselExampleDark\" data-bs-slide-to=\"0\" class=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n                    <button type=\"button\" data-bs-target=\"#carouselExampleDark\" data-bs-slide-to=\"1\" aria-label=\"Slide 2\"></button>\r\n                    <button type=\"button\" data-bs-target=\"#carouselExampleDark\" data-bs-slide-to=\"2\" aria-label=\"Slide 3\"></button></div>\r\n                <div class=\"carousel-inner\"><div class=\"carousel-item active\" data-bs-interval=\"1000\"><img src=\"https://caodang.fpt.edu.vn/wp-content/uploads/390x640-26.png\" class=\"d-block w-100\" alt=\"...\">\r\n                        <div class=\"carousel-caption d-none d-md-block\"></div></div>\r\n                    <div class=\"carousel-item\" data-bs-interval=\"2000\"><img src=\"https://caodang.fpt.edu.vn/wp-content/uploads/390x640-26.png\" class=\"d-block w-100\" alt=\"...\">\r\n                        <div class=\"carousel-caption d-none d-md-block\"></div></div>\r\n                    <div class=\"carousel-item\"><img src=\"https://caodang.fpt.edu.vn/wp-content/uploads/390x640-26.png\" class=\"d-block w-100\" alt=\"...\">\r\n                        <div class=\"carousel-caption d-none d-md-block\"></div></div></div>\r\n                <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleDark\" data-bs-slide=\"prev\"><span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                    <span class=\"visually-hidden\">Previous</span></button>\r\n                <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleDark\" data-bs-slide=\"next\"><span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                    <span class=\"visually-hidden\">Next</span></button></div></div>");
            __builder.CloseElement();
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 133 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\NewFeed\NewFeed.razor"
       
    [CascadingParameter]
    private Error _error { get; set; }
    [Inject]
    public INewFeedRepo _newFeedRepo { get; set; }
    private List<NewFeedOverView> _lstNewFeed;
    private List<NewFeedOverView> _lstNewFeedforclass = new List<NewFeedOverView>();
    //
    [Inject]
    public IHttpContextAccessor _httpContextAccessor { get; set; }
    //
    [Inject]
    public UserManager<UserSignIn> _userManager { get; set; }
    //

    public NewFeed()
    {
        _lstNewFeed = new List<NewFeedOverView>();
    }
    protected async override Task OnInitializedAsync()
    {
        await GetNewFeed();
        await ConnectToServer();
    }
    private async Task GetNewFeed()
    {
        var getusername = _httpContextAccessor.HttpContext.User.Identity.Name;
      
        var getID = _userManager.Users.ToList().Where(c => c.Email == getusername).Select(c => c.Id).FirstOrDefault();
        _lstNewFeed = await _newFeedRepo.GetListNewForUser(Guid.Parse(getID));
    }

    private async Task ConnectToServer()
    {
        try
        {
            //string url = "https://localhost:5001/notificationhub";
            //HubConnection _connection = null;
            //bool isConnected = false;
            //string connectionStatus = "Closed";
            //_connection = new HubConnectionBuilder()
            //    .WithUrl(url)
            //    .Build();

            //await _connection.StartAsync();
            //isConnected = true;
            //connectionStatus = "Connected :-)";

            //_connection.Closed += async (s) =>
            //{
            //    isConnected = false;
            //    connectionStatus = "Disconnected";
            //    await _connection.StartAsync();
            //    isConnected = true;
            //};

            //_connection.On<bool>("Noticafications", async res =>
            //{
            //    if (res == true)
            //    {
            //        await GetNewFeed();
            //        StateHasChanged();
            //    }
            //});
        }
        catch (Exception ex)
        {

            _error.ProcessError(ex);
        }
    }

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
