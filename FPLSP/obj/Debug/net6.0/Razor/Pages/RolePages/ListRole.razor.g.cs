#pragma checksum "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "95bc799c984a6fc37452ea99e07143614c49d102"
// <auto-generated/>
#pragma warning disable 1591
namespace FPLSP.Pages.RolePages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
using FPLSP.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
using FPLSP.Repositories.Interfaces;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
           [Authorize(Roles = "AdminCore,AdminCS")]

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/listrole")]
    public partial class ListRole : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
 if (_lstRole.Count() < _counter || _lstRole == null)
{

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::FPLSP.Components.LoadingIndicator>(0);
            __builder.CloseComponent();
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
}

#line default
#line hidden
#nullable disable
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "mt-3");
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
     if (_lstRole.Count() == 0)
    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(3, "<span>Danh sách chức vụ rỗng</span>");
#nullable restore
#line 16 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"

    }
    else
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(4, "div");
            __builder.AddAttribute(5, "class", "card text-center");
            __builder.OpenElement(6, "div");
            __builder.AddAttribute(7, "class", "card-header fs-6");
            __builder.OpenElement(8, "h3");
            __builder.AddMarkupContent(9, "\r\n                    Số Chức Vụ Hiện Tại : ");
#nullable restore
#line (23,44)-(23,60) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
__builder.AddContent(10, _lstRole.Count());

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(11, "\r\n                    ");
            __builder.OpenElement(12, "button");
            __builder.AddAttribute(13, "class", "btn btn-success rounded-circle p-1");
            __builder.AddAttribute(14, "type", "button");
            __builder.AddAttribute(15, "data-toggle", "tooltip");
            __builder.AddAttribute(16, "data-placement", "top");
            __builder.AddAttribute(17, "title", "Create New");
            __builder.AddAttribute(18, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 24 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
                                                                                                                                                             NavigateToCreateRole

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(19, "<i class=\"fa-solid fa-plus\" style=\"width: 20px; height: 20px;\"></i>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(20, "\r\n            ");
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "class", "card-body");
            __builder.OpenElement(23, "div");
            __builder.AddAttribute(24, "class", "row");
#nullable restore
#line 31 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
                     foreach (var item in _lstRole)
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(25, "div");
            __builder.AddAttribute(26, "class", "col-lg-3 mb-5 single-product-item");
            __builder.OpenElement(27, "div");
            __builder.AddAttribute(28, "class", "card border-2 border-info");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "class", "row ");
            __builder.OpenElement(31, "div");
            __builder.AddAttribute(32, "class", "card-body text-center");
            __builder.AddMarkupContent(33, "<img src=\"./css/images/Others/logoFPT.png\" alt=\"Image\" class=\"img-rounded\" style=\"height: 178px; width: 178px; object-fit: cover;\">\r\n                                        ");
            __builder.OpenElement(34, "div");
            __builder.OpenElement(35, "span");
            __builder.AddAttribute(36, "class", " card-title fs-6 text-wrap ");
#nullable restore
#line (39,88)-(39,97) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
__builder.AddContent(37, item.Name);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n                                        ");
            __builder.OpenElement(39, "div");
            __builder.OpenElement(40, "span");
            __builder.AddAttribute(41, "class", " card-title fs-6 text-wrap ");
#nullable restore
#line (42,88)-(42,107) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
__builder.AddContent(42, item.NormalizedName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(43, "\r\n                                        <hr>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\r\n                            ");
            __builder.OpenElement(45, "div");
            __builder.AddAttribute(46, "class", "col-lg-3 ");
            __builder.AddMarkupContent(47, "<button class=\"btn btn-info btn-square-md rounded-0 p-1\" type=\"button\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Details\"><i class=\"fa-solid fa-info\" style=\"width: 20px; height: 20px;\"></i></button>\r\n                                ");
            __builder.OpenElement(48, "button");
            __builder.AddAttribute(49, "class", "btn btn-warning btn-square-md rounded-0 p-1");
            __builder.AddAttribute(50, "type", "button");
            __builder.AddAttribute(51, "data-toggle", "tooltip");
            __builder.AddAttribute(52, "data-placement", "top");
            __builder.AddAttribute(53, "title", "Edit");
            __builder.AddAttribute(54, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 55 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
                                                                                                                                                                              () => { NavigateToUpdateRole(item); }

#line default
#line hidden
#nullable disable
            ));
            __builder.AddEventPreventDefaultAttribute(55, "onclick", true);
            __builder.AddMarkupContent(56, "<i class=\"fa-solid fa-pen\" style=\"width: 20px; height: 20px;\"></i>");
            __builder.CloseElement();
            __builder.AddMarkupContent(57, "\r\n                                ");
            __builder.OpenElement(58, "button");
            __builder.AddAttribute(59, "class", "btn btn-danger btn-square-md rounded-0 p-1");
            __builder.AddAttribute(60, "type", "button");
            __builder.AddAttribute(61, "data-toggle", "tooltip");
            __builder.AddAttribute(62, "data-placement", "top");
            __builder.AddAttribute(63, "title", "Delete");
            __builder.AddAttribute(64, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 58 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
                                                                                                                                                                               () => { Delete(item.Id); }

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(65, "<i class=\"fa-solid fa-trash-can\" style=\"width: 20px; height: 20px;\"></i>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 63 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"



                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(66, "\r\n            <div class=\"card-footer text-muted\"></div>");
            __builder.CloseElement();
#nullable restore
#line 73 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(67, "\r\n");
            __builder.OpenComponent<global::FPLSP.Components.Comfirmation>(68);
            __builder.AddAttribute(69, "ConfirmationMessage", "Are you sure to delete ?");
            __builder.AddAttribute(70, "ConfirmationTitle", "Delete Role ");
            __builder.AddAttribute(71, "ConfirmationChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.Boolean>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.Boolean>(this, 
#nullable restore
#line 78 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
                                   OnConfirmationDelete

#line default
#line hidden
#nullable disable
            )));
            __builder.AddComponentReferenceCapture(72, (__value) => {
#nullable restore
#line 77 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
                    DeleConfirmation = (FPLSP.Components.Comfirmation)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 83 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\RolePages\ListRole.razor"
       

    [Inject]
    public IRoleUserIdentityRepo _roleUserIdentityRepo { get; set; }
    private List<IdentityRole> _lstRole;
    [Inject] IToastService _toast { get; set; }
    private int _counter;

    private string _getId;
    [Inject]
    public NavigationManager NavigationManager { get; set; }

    protected Comfirmation DeleConfirmation { set; get; }
    [CascadingParameter]
    private Error _error { get; set; }

    public ListRole()
    {
        _lstRole = new List<IdentityRole>();

    }

    protected override async Task OnInitializedAsync()
    {
        await GetRoleList();
    }
    private async Task GetRoleList()
    {


        _lstRole = await _roleUserIdentityRepo.GetAllRolesAsync();
    }

    private async void NavigateToCreateRole()
    {
        NavigationManager.NavigateTo("createrole");
    }
    private async void Delete(string getId)
    {
        _getId = getId;
        DeleConfirmation.show();
    }
    private async void NavigateToUpdateRole(IdentityRole identityRole)
    {
        NavigationManager.NavigateTo($"updaterole/{identityRole.Id}");
    }
    private async void OnConfirmationDelete(bool deleteconfirmed)
    {
        if (deleteconfirmed)
        {
            var result = await _roleUserIdentityRepo.RemoveRoles(_getId);
            if (result)
            {
                _toast.ShowSuccess($"Delete Successfully");
                NavigationManager.NavigateTo("/listrole", true);
            }
            else
            {
                _toast.ShowError($"Delete Failed");
                NavigationManager.NavigateTo($"/listrole", true);
            }
        }
        //NavigationManager.NavigateTo("listrole", true);
    }

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
