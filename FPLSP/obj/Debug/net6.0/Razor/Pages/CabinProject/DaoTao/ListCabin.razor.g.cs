#pragma checksum "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c601b656e43856fdafb9111d13ae8d62d1e5e288"
// <auto-generated/>
#pragma warning disable 1591
namespace FPLSP.Pages.CabinProject.DaoTao
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using System.Text;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using System.Text.RegularExpressions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using System.Diagnostics;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Data.Securities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Repositories.Interfaces.CabinProject;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Repositories.Interfaces;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Server.Domain.Dtos;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Server.Infrastructure.ViewModels.CabinProject.BookingCabin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Server.Infrastructure.ViewModels.CabinProject.BookingRequest;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Server.Infrastructure.ViewModels.CabinProject.Cabin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Server.Infrastructure.ViewModels.CabinProject.GroupCabin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using FPLSP.Server.Infrastructure.ViewModels.CabinProject.ShiftOfCabin;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
using Microsoft.AspNetCore.SignalR.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
           [Authorize(Roles = "DirectorOfTraining")]

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/listCabin/{idTrainingFacilityNonDecrypt}/{idShiftNonDecrypt}/{dateInput}")]
    public partial class ListCabin : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 19 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
 if (listShift == null || listFullShift == null || listBookingCabin == null)
{

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::FPLSP.Components.LoadingIndicator>(0);
            __builder.CloseComponent();
#nullable restore
#line 22 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "baongoai");
            __builder.AddAttribute(3, "b-6m1ithu1hs");
            __builder.AddMarkupContent(4, "<h3 class=\"text-center\" b-6m1ithu1hs>Danh sách cabin</h3><br b-6m1ithu1hs>\r\n        ");
            __builder.OpenElement(5, "div");
            __builder.AddAttribute(6, "class", "notification-modal-div");
            __builder.AddAttribute(7, "style", "display:" + " " + (
#nullable restore
#line 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                             close

#line default
#line hidden
#nullable disable
            ) + ";" + " max-height:80vh;");
            __builder.AddAttribute(8, "b-6m1ithu1hs");
            __builder.OpenElement(9, "div");
            __builder.AddAttribute(10, "class", "row mb-3 m-0");
            __builder.AddAttribute(11, "b-6m1ithu1hs");
            __builder.AddMarkupContent(12, "<h5 class=\"col-10\" style=\"margin: auto 0;\" b-6m1ithu1hs>Thông tin cabin</h5>\r\n                ");
            __builder.OpenElement(13, "button");
            __builder.AddAttribute(14, "type", "button");
            __builder.AddAttribute(15, "class", "col-2");
            __builder.AddAttribute(16, "aria-label", "Close");
            __builder.AddAttribute(17, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 30 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                   () => {close="none";}

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "b-6m1ithu1hs");
            __builder.AddMarkupContent(19, "<h5 b-6m1ithu1hs>x</h5>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(20, "\r\n            ");
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "style", "padding: 0 5px;margin: 0 auto;width: -webkit-fill-available;text-align: left;");
            __builder.AddAttribute(23, "b-6m1ithu1hs");
            __builder.OpenElement(24, "h6");
            __builder.AddAttribute(25, "b-6m1ithu1hs");
            __builder.AddMarkupContent(26, "Ca Dạy: ");
#nullable restore
#line (35,30)-(35,35) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(27, shift);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n                ");
            __builder.OpenElement(29, "h6");
            __builder.AddAttribute(30, "b-6m1ithu1hs");
            __builder.AddContent(31, "Cabin: ");
#nullable restore
#line (36,29)-(36,38) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(32, cabinName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\r\n                ");
            __builder.OpenElement(34, "h6");
            __builder.AddAttribute(35, "b-6m1ithu1hs");
            __builder.AddMarkupContent(36, "Chuyên Ngành: ");
#nullable restore
#line (37,36)-(37,51) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(37, specializedName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n                ");
            __builder.OpenElement(39, "h6");
            __builder.AddAttribute(40, "b-6m1ithu1hs");
            __builder.AddMarkupContent(41, "Trạng Thái: ");
#nullable restore
#line (38,34)-(38,45) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(42, cabinStatus);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 39 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                 if (lecturerName != "N/A" && subjectClass != "N/A")
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(43, "h6");
            __builder.AddAttribute(44, "b-6m1ithu1hs");
            __builder.AddMarkupContent(45, "Giảng Viên: ");
#nullable restore
#line (41,38)-(41,50) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(46, lecturerName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(47, "\r\n                    ");
            __builder.OpenElement(48, "h6");
            __builder.AddAttribute(49, "b-6m1ithu1hs");
            __builder.AddMarkupContent(50, "Lớp: ");
#nullable restore
#line (42,31)-(42,43) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(51, subjectClass);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 44 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                     if (checkinImage != null)
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(52, "div");
            __builder.AddAttribute(53, "class", "row m-0 p-0");
            __builder.AddAttribute(54, "b-6m1ithu1hs");
            __builder.OpenElement(55, "div");
            __builder.AddAttribute(56, "class", "col-8");
            __builder.AddAttribute(57, "b-6m1ithu1hs");
            __builder.OpenElement(58, "img");
            __builder.AddAttribute(59, "src", 
#nullable restore
#line 48 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                            Encoding.ASCII.GetString(checkinImage)

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(60, "style", "width:-webkit-fill-available;height:auto; object-fit:cover;");
            __builder.AddAttribute(61, "b-6m1ithu1hs");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(62, "\r\n                            ");
            __builder.AddMarkupContent(63, "<div class=\"col-4 m-0 p-0\" b-6m1ithu1hs><i class=\"fas fa-check-circle\" style=\"margin: 0 3px; color: greenyellow;\" b-6m1ithu1hs></i>\r\n                                Đã CheckIn\r\n                            </div>");
            __builder.CloseElement();
#nullable restore
#line 55 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(64, @"<div class=""row m-0 p-0"" b-6m1ithu1hs><div class=""col-8"" b-6m1ithu1hs><img src=""./css/images/LecturerCP/defaultAVT.png"" style=""width:-webkit-fill-available;height:auto; object-fit:cover;"" b-6m1ithu1hs></div>
                            <div class=""col-4 m-0 p-0"" b-6m1ithu1hs><i class=""fas fa-check-circle"" style=""margin: 0 3px; color: red;"" b-6m1ithu1hs></i>
                                Chưa CheckIn
                            </div></div>");
#nullable restore
#line 67 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 67 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                     
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 70 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
             if (cabinStatus == "Đang bảo trì")
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(65, "div");
            __builder.AddAttribute(66, "class", "my-2");
            __builder.AddAttribute(67, "style", "text-align: center;");
            __builder.AddAttribute(68, "b-6m1ithu1hs");
            __builder.OpenElement(69, "button");
            __builder.AddAttribute(70, "class", "btn btn-primary");
            __builder.AddAttribute(71, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 73 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                              () => Submit()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(72, "b-6m1ithu1hs");
            __builder.AddContent(73, "OK");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 75 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(74, "div");
            __builder.AddAttribute(75, "class", "row");
            __builder.AddAttribute(76, "b-6m1ithu1hs");
            __builder.AddMarkupContent(77, "<div class=\"col-4\" b-6m1ithu1hs><hr b-6m1ithu1hs></div>\r\n                    ");
            __builder.OpenElement(78, "div");
            __builder.AddAttribute(79, "hidden", 
#nullable restore
#line 80 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                   IdLecturer != null

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(80, "class", "col-4");
            __builder.AddAttribute(81, "b-6m1ithu1hs");
            __builder.AddMarkupContent(82, "Xếp cabin");
            __builder.CloseElement();
            __builder.AddMarkupContent(83, "\r\n                    ");
            __builder.OpenElement(84, "div");
            __builder.AddAttribute(85, "hidden", 
#nullable restore
#line 81 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                   IdLecturer == null

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(86, "class", "col-4");
            __builder.AddAttribute(87, "b-6m1ithu1hs");
            __builder.AddMarkupContent(88, "Hủy xếp cabin");
            __builder.CloseElement();
            __builder.AddMarkupContent(89, "\r\n                    ");
            __builder.AddMarkupContent(90, "<div class=\"col-4\" b-6m1ithu1hs><hr b-6m1ithu1hs></div>");
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n                ");
            __builder.OpenElement(92, "div");
            __builder.AddAttribute(93, "class", "m-0 p-0");
            __builder.AddAttribute(94, "b-6m1ithu1hs");
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.EditForm>(95);
            __builder.AddAttribute(96, "Model", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Object>(
#nullable restore
#line 85 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                      _Model

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(97, "class", "card card-body bg-light");
            __builder.AddAttribute(98, "id", "details-form");
            __builder.AddAttribute(99, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.OpenElement(100, "div");
                __builder2.AddAttribute(101, "hidden", 
#nullable restore
#line 86 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                       IdLecturer != null

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(102, "b-6m1ithu1hs");
                __builder2.AddMarkupContent(103, "<label b-6m1ithu1hs>Chọn giảng viên: </label>\r\n                            ");
                global::__Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin.TypeInference.CreateInputSelect_0(__builder2, 104, 105, "time", 106, " form-select", 107, 
#nullable restore
#line 88 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                           ()=>IdLecturerForBooking

#line default
#line hidden
#nullable disable
                , 108, 
#nullable restore
#line 88 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                              IdLecturerForBooking

#line default
#line hidden
#nullable disable
                , 109, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 88 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                                                                    (string value) => CheckLecturerForBooking(value)

#line default
#line hidden
#nullable disable
                ), 110, (__builder3) => {
                    __builder3.OpenElement(111, "option");
                    __builder3.AddAttribute(112, "selected");
                    __builder3.AddAttribute(113, "value", 
#nullable restore
#line 89 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                          string.Empty

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(114, "b-6m1ithu1hs");
                    __builder3.AddMarkupContent(115, "Chọn giảng viên");
                    __builder3.CloseElement();
#nullable restore
#line 91 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                 foreach (var group in listFullShift.Where(c => c.IdShiftOfCabin == IdShift && c.TeachingDay == _day).GroupBy(c => new { c.IdLecturer, c.LecturerUserName }))
                                {
                                    foreach (var item in group.Where(c => c.IdCabin == null && c.IdLecturer != null))
                                    {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(116, "option");
                    __builder3.AddAttribute(117, "value", 
#nullable restore
#line 95 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                         group.Key.IdLecturer

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(118, "b-6m1ithu1hs");
#nullable restore
#line (95,83)-(95,109) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(119, group.Key.LecturerUserName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 96 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                        break;
                                    }
                                }

#line default
#line hidden
#nullable disable
                }
                );
                __builder2.AddMarkupContent(120, "\r\n                            ");
                __builder2.AddMarkupContent(121, "<label b-6m1ithu1hs>Chọn lớp-môn: </label>\r\n                            ");
                global::__Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin.TypeInference.CreateInputSelect_1(__builder2, 122, 123, "time", 124, " form-select", 125, 
#nullable restore
#line 101 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                           ()=>IdClassSubjectForBooking

#line default
#line hidden
#nullable disable
                , 126, 
#nullable restore
#line 101 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                                  IdClassSubjectForBooking

#line default
#line hidden
#nullable disable
                , 127, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 101 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                                                                            (string value) => CheckClassSubjectForBooking(value)

#line default
#line hidden
#nullable disable
                ), 128, (__builder3) => {
                    __builder3.OpenElement(129, "option");
                    __builder3.AddAttribute(130, "selected");
                    __builder3.AddAttribute(131, "value", 
#nullable restore
#line 102 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                          IdLecturer

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(132, "b-6m1ithu1hs");
                    __builder3.AddMarkupContent(133, "Chọn lớp-môn");
                    __builder3.CloseElement();
#nullable restore
#line 103 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                 if (!string.IsNullOrEmpty(IdLecturerForBooking))
                                {
                                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 105 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                     foreach (var group in listFullShift.Where(c => c.IdShiftOfCabin == IdShift && c.TeachingDay == _day).GroupBy(c => new { c.IdLecturer, c.LecturerUserName }))
                                    {

                                        foreach (var item in group.Where(c => c.IdCabin == null && c.IdLecturer == Guid.Parse(IdLecturerForBooking) && c.IdClass != null && c.IdSubject != null))
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(134, "option");
                    __builder3.AddAttribute(135, "value", 
#nullable restore
#line 110 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                             $"{item.IdClass}*{item.IdSubject}"

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(136, "b-6m1ithu1hs");
#nullable restore
#line (110,101)-(110,139) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(137, $"{item.ClassName}-{item.SubjectCode}");

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 111 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                            break;
                                        }
                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 113 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                     
                                }

#line default
#line hidden
#nullable disable
                }
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(138, "\r\n                        ");
                __builder2.OpenElement(139, "div");
                __builder2.AddAttribute(140, "hidden", 
#nullable restore
#line 117 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                       IdLecturer == null

#line default
#line hidden
#nullable disable
                );
                __builder2.AddAttribute(141, "b-6m1ithu1hs");
                __builder2.AddMarkupContent(142, "<label b-6m1ithu1hs>Lí do hủy cabin vì:</label>\r\n                            ");
                __builder2.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputTextArea>(143);
                __builder2.AddAttribute(144, "placeholder", "Nhập lí do hủy cabin");
                __builder2.AddAttribute(145, "Value", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.String>(
#nullable restore
#line 119 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                        CancelReason

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(146, "ValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.String>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.String>(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => CancelReason = __value, CancelReason))));
                __builder2.AddAttribute(147, "ValueExpression", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Linq.Expressions.Expression<System.Func<System.String>>>(() => CancelReason));
                __builder2.CloseComponent();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(148, "\r\n                ");
            __builder.OpenElement(149, "div");
            __builder.AddAttribute(150, "class", "my-2 row");
            __builder.AddAttribute(151, "style", "text-align: center;");
            __builder.AddAttribute(152, "b-6m1ithu1hs");
            __builder.AddMarkupContent(153, "<div class=\"col-1\" b-6m1ithu1hs></div>\r\n                    ");
            __builder.OpenElement(154, "div");
            __builder.AddAttribute(155, "class", "col-4");
            __builder.AddAttribute(156, "b-6m1ithu1hs");
            __builder.OpenElement(157, "button");
            __builder.AddAttribute(158, "class", "btn btn-secondary");
            __builder.AddAttribute(159, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 126 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                    () => Submit()

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(160, "b-6m1ithu1hs");
            __builder.AddMarkupContent(161, "Bỏ Qua");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(162, "\r\n                    <div class=\"col-2\" b-6m1ithu1hs></div>\r\n                    ");
            __builder.OpenElement(163, "div");
            __builder.AddAttribute(164, "class", "col-4");
            __builder.AddAttribute(165, "b-6m1ithu1hs");
#nullable restore
#line 130 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                         if (IdLecturer != null)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(166, "button");
            __builder.AddAttribute(167, "onclick", 
#nullable restore
#line 132 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                               () =>  CancelCabin()

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(168, "class", "btn btn-danger");
            __builder.AddAttribute(169, "b-6m1ithu1hs");
            __builder.AddMarkupContent(170, "Hủy Cabin");
            __builder.CloseElement();
#nullable restore
#line 133 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                        }
                        else
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(171, "button");
            __builder.AddAttribute(172, "onclick", 
#nullable restore
#line 136 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                               () => BookCabin()

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(173, "class", "btn btn-success");
            __builder.AddAttribute(174, "b-6m1ithu1hs");
            __builder.AddMarkupContent(175, "Xếp Cabin");
            __builder.CloseElement();
#nullable restore
#line 137 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(176, "\r\n                    <div class=\"col-1\" b-6m1ithu1hs></div>");
            __builder.CloseElement();
#nullable restore
#line 141 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(177, "\r\n        ");
            __builder.OpenElement(178, "div");
            __builder.AddAttribute(179, "style", 
#nullable restore
#line 143 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                      (close == "block") ? "pointer-events: none;opacity: 0.4;" : ""

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(180, "b-6m1ithu1hs");
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.EditForm>(181);
            __builder.AddAttribute(182, "Model", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Object>(
#nullable restore
#line 144 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             _Model

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(183, "class", "row");
            __builder.AddAttribute(184, "style", "margin-left: 16px;");
            __builder.AddAttribute(185, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.OpenElement(186, "div");
                __builder2.AddAttribute(187, "class", "col-8 row");
                __builder2.AddAttribute(188, "b-6m1ithu1hs");
                __builder2.OpenElement(189, "div");
                __builder2.AddAttribute(190, "class", "col-4");
                __builder2.AddAttribute(191, "b-6m1ithu1hs");
                __builder2.AddMarkupContent(192, "<label style=\"font-weight:bolder;\" b-6m1ithu1hs>Chọn ngày dạy</label>\r\n                        ");
                global::__Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin.TypeInference.CreateInputSelect_2(__builder2, 193, 194, "form-select", 195, 
#nullable restore
#line 148 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                            ()=>_day

#line default
#line hidden
#nullable disable
                , 196, 
#nullable restore
#line 148 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                               _day

#line default
#line hidden
#nullable disable
                , 197, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 148 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                     (DateTime? value) => CheckDay(value)

#line default
#line hidden
#nullable disable
                ), 198, (__builder3) => {
#nullable restore
#line 149 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             foreach (var item in daysOfWeek)
                            {
                                if (item.Item2 == _day)
                                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(199, "option");
                    __builder3.AddAttribute(200, "selected");
                    __builder3.AddAttribute(201, "value", 
#nullable restore
#line 153 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                             item.Item2

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(202, "b-6m1ithu1hs");
#nullable restore
#line (153,75)-(153,85) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(203, item.Item1);

#line default
#line hidden
#nullable disable
                    __builder3.AddContent(204, ", ");
#nullable restore
#line (153,88)-(153,121) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(205, item.Item2.ToString("dd/MM/yyyy"));

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 154 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(206, "option");
                    __builder3.AddAttribute(207, "value", 
#nullable restore
#line 157 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                    item.Item2

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(208, "b-6m1ithu1hs");
#nullable restore
#line (157,66)-(157,76) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(209, item.Item1);

#line default
#line hidden
#nullable disable
                    __builder3.AddContent(210, ", ");
#nullable restore
#line (157,79)-(157,112) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(211, item.Item2.ToString("dd/MM/yyyy"));

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 158 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                }
                            }

#line default
#line hidden
#nullable disable
                }
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(212, "\r\n                    ");
                __builder2.OpenElement(213, "div");
                __builder2.AddAttribute(214, "class", "col-2");
                __builder2.AddAttribute(215, "b-6m1ithu1hs");
                __builder2.AddMarkupContent(216, "<label style=\"font-weight:bolder;\" b-6m1ithu1hs>Chọn ca dạy</label>\r\n                        ");
                global::__Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin.TypeInference.CreateInputSelect_3(__builder2, 217, 218, "form-select", 219, 
#nullable restore
#line 164 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                            ()=>_idFilterShift

#line default
#line hidden
#nullable disable
                , 220, 
#nullable restore
#line 164 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                         _idFilterShift

#line default
#line hidden
#nullable disable
                , 221, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 164 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                                         (string? value) => CheckTime(value)

#line default
#line hidden
#nullable disable
                ), 222, (__builder3) => {
#nullable restore
#line 165 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             if (listShiftDefault.Count() != 0)
                            {
                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 167 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                 foreach (var item in listShiftDefault.OrderBy(c => c.IndexOfShift))
                                {
                                    if (!string.IsNullOrEmpty(_idFilterShift))
                                    {
                                        if (item.Id == Guid.Parse(_idFilterShift))
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(223, "option");
                    __builder3.AddAttribute(224, "selected");
                    __builder3.AddAttribute(225, "value", 
#nullable restore
#line 173 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                     item.Id

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(226, "b-6m1ithu1hs");
#nullable restore
#line (173,80)-(173,94) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(227, item.ShiftName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 174 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(228, "option");
                    __builder3.AddAttribute(229, "value", 
#nullable restore
#line 177 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                            item.Id

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(230, "b-6m1ithu1hs");
#nullable restore
#line (177,71)-(177,85) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(231, item.ShiftName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 178 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                        }
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(232, "option");
                    __builder3.AddAttribute(233, "value", 
#nullable restore
#line 182 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                        item.Id

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(234, "b-6m1ithu1hs");
#nullable restore
#line (182,67)-(182,81) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(235, item.ShiftName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 183 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 184 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                 
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 186 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             if (string.IsNullOrEmpty(_idFilterShift))
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(236, "<option selected value b-6m1ithu1hs>Tất cả</option>");
#nullable restore
#line 189 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(237, "<option value b-6m1ithu1hs>Tất cả</option>");
#nullable restore
#line 193 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }

#line default
#line hidden
#nullable disable
                }
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(238, "\r\n                    ");
                __builder2.OpenElement(239, "div");
                __builder2.AddAttribute(240, "class", "col-2");
                __builder2.AddAttribute(241, "b-6m1ithu1hs");
                __builder2.AddMarkupContent(242, "<label style=\"font-weight:bolder;\" b-6m1ithu1hs>Chọn tòa nhà</label>\r\n                        ");
                global::__Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin.TypeInference.CreateInputSelect_4(__builder2, 243, 244, "form-select", 245, 
#nullable restore
#line 198 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                            ()=>_filterBuldingName

#line default
#line hidden
#nullable disable
                , 246, 
#nullable restore
#line 198 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                             _filterBuldingName

#line default
#line hidden
#nullable disable
                , 247, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 198 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                                                 (string? value) => CheckBuilding(value)

#line default
#line hidden
#nullable disable
                ), 248, (__builder3) => {
#nullable restore
#line 199 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             if (listCabinActiveDefault.GroupBy(c => c.BuildingName).Select(c => c.Key).ToList().Count() != 0)
                            {
                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 201 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                 foreach (var item in listCabinActiveDefault.GroupBy(c => c.BuildingName).Select(c => c.Key).OrderBy(c => c.ToLower()).ToList())
                                {
                                    if (!string.IsNullOrEmpty(_filterBuldingName))
                                    {
                                        if (item == _filterBuldingName)
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(249, "option");
                    __builder3.AddAttribute(250, "selected");
                    __builder3.AddAttribute(251, "value", 
#nullable restore
#line 207 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                     item

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(252, "b-6m1ithu1hs");
#nullable restore
#line (207,77)-(207,81) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(253, item);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 208 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                        }
                                        else
                                        {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(254, "option");
                    __builder3.AddAttribute(255, "value", 
#nullable restore
#line 211 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                            item

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(256, "b-6m1ithu1hs");
#nullable restore
#line (211,68)-(211,72) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(257, item);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 212 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                        }
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(258, "option");
                    __builder3.AddAttribute(259, "value", 
#nullable restore
#line 216 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                        item

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(260, "b-6m1ithu1hs");
#nullable restore
#line (216,64)-(216,68) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(261, item);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 217 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }
                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 218 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                 
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 220 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             if (string.IsNullOrEmpty(_filterBuldingName))
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(262, "<option selected value b-6m1ithu1hs>Tất cả</option>");
#nullable restore
#line 223 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(263, "<option value b-6m1ithu1hs>Tất cả</option>");
#nullable restore
#line 227 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }

#line default
#line hidden
#nullable disable
                }
                );
                __builder2.CloseElement();
                __builder2.AddMarkupContent(264, "\r\n                    ");
                __builder2.OpenElement(265, "div");
                __builder2.AddAttribute(266, "class", "col-4");
                __builder2.AddAttribute(267, "b-6m1ithu1hs");
                __builder2.AddMarkupContent(268, "<label style=\"font-weight:bolder;\" b-6m1ithu1hs>Chọn nhóm chuyên ngành</label>\r\n                        ");
                global::__Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin.TypeInference.CreateInputSelect_5(__builder2, 269, 270, "form-select", 271, 
#nullable restore
#line 232 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                            ()=>_idFilterSpecialized

#line default
#line hidden
#nullable disable
                , 272, 
#nullable restore
#line 232 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                               _idFilterSpecialized

#line default
#line hidden
#nullable disable
                , 273, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, 
#nullable restore
#line 232 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                                                                                                     (string? value) => CheckSpecialized(value)

#line default
#line hidden
#nullable disable
                ), 274, (__builder3) => {
#nullable restore
#line 233 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             foreach (var idSpec in listGroupCabinDefault.GroupBy(c => c.IdSpec).Select(c => c.Key).ToList())
                            {
                                if (!string.IsNullOrEmpty(_idFilterSpecialized))
                                {
                                    if (idSpec == Guid.Parse(_idFilterSpecialized))
                                    {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(275, "option");
                    __builder3.AddAttribute(276, "selected");
                    __builder3.AddAttribute(277, "value", 
#nullable restore
#line 239 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                                 idSpec

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(278, "b-6m1ithu1hs");
#nullable restore
#line (239,75)-(239,136) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(279, listSpec.FirstOrDefault(c=>c.Id == idSpec).SpecializationName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 240 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(280, "option");
                    __builder3.AddAttribute(281, "value", 
#nullable restore
#line 243 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                        idSpec

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(282, "b-6m1ithu1hs");
#nullable restore
#line (243,66)-(243,127) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(283, listSpec.FirstOrDefault(c=>c.Id == idSpec).SpecializationName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 244 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(284, "option");
                    __builder3.AddAttribute(285, "value", 
#nullable restore
#line 248 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                    idSpec

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(286, "b-6m1ithu1hs");
#nullable restore
#line (248,62)-(248,123) 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder3.AddContent(287, listSpec.FirstOrDefault(c=>c.Id == idSpec).SpecializationName);

#line default
#line hidden
#nullable disable
                    __builder3.CloseElement();
#nullable restore
#line 249 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                }
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 251 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             if (string.IsNullOrEmpty(_idFilterSpecialized))
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(288, "<option selected value b-6m1ithu1hs>Khác</option>");
#nullable restore
#line 254 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
                    __builder3.AddMarkupContent(289, "<option value b-6m1ithu1hs>Khác</option>");
#nullable restore
#line 258 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 259 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                             if (_idFilterSpecialized == Guid.Empty.ToString())
                            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(290, "option");
                    __builder3.AddAttribute(291, "selected");
                    __builder3.AddAttribute(292, "value", 
#nullable restore
#line 261 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                          Guid.Empty

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(293, "b-6m1ithu1hs");
                    __builder3.AddMarkupContent(294, "Tất cả");
                    __builder3.CloseElement();
#nullable restore
#line 262 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
                    __builder3.OpenElement(295, "option");
                    __builder3.AddAttribute(296, "value", 
#nullable restore
#line 265 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                 Guid.Empty

#line default
#line hidden
#nullable disable
                    );
                    __builder3.AddAttribute(297, "b-6m1ithu1hs");
                    __builder3.AddMarkupContent(298, "Tất cả");
                    __builder3.CloseElement();
#nullable restore
#line 266 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                            }

#line default
#line hidden
#nullable disable
                }
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(299, "\r\n                ");
                __builder2.AddMarkupContent(300, @"<div class=""col-4"" b-6m1ithu1hs><div class=""showcase"" b-6m1ithu1hs><div class=""room"" b-6m1ithu1hs>Còn trống</div>
                        <div class=""room selected"" b-6m1ithu1hs>Đã chọn</div>
                        <div class=""room repairing"" b-6m1ithu1hs>Đang bảo trì</div></div></div>");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 281 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
             if (listCabinActive == null || listShift == null || listGroupCabin == null || listFullShift == null || listSpec == null)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::FPLSP.Components.LoadingIndicator>(301);
            __builder.CloseComponent();
#nullable restore
#line 284 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
            }
            else
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(302, "div");
            __builder.AddAttribute(303, "hidden", 
#nullable restore
#line 287 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                              classroom

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(304, "class", "row");
            __builder.AddAttribute(305, "style", "margin-top:10px;");
            __builder.AddAttribute(306, "b-6m1ithu1hs");
            __builder.OpenElement(307, "div");
            __builder.AddAttribute(308, "class", "row");
            __builder.AddAttribute(309, "b-6m1ithu1hs");
#nullable restore
#line 289 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                         foreach (var shift in listShift.OrderBy(c => c.IndexOfShift).ToList())
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(310, "h3");
            __builder.AddAttribute(311, "style", "text-align: center;margin: 10px 0;");
            __builder.AddAttribute(312, "b-6m1ithu1hs");
            __builder.OpenElement(313, "b");
            __builder.AddAttribute(314, "b-6m1ithu1hs");
#nullable restore
#line (292,37)-(292,52) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(315, shift.ShiftName);

#line default
#line hidden
#nullable disable
            __builder.AddContent(316, ": ");
#nullable restore
#line (292,55)-(292,90) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(317, shift.StartTime.ToString(@"hh\:mm"));

#line default
#line hidden
#nullable disable
            __builder.AddContent(318, "-");
#nullable restore
#line (292,92)-(292,125) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(319, shift.EndTime.ToString(@"hh\:mm"));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 294 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"

                            if (listCabinActive.Count() != 0)
                            {
                                foreach (var cabin in listCabinActive)
                                {
                                    if (listFullShift.FirstOrDefault(c => c.IdShiftOfCabin == shift.Id && c.TeachingDay == _day && c.IdCabin == cabin.Id) != null)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(320, "div");
            __builder.AddAttribute(321, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 301 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                         () => Notify(shift, cabin, listFullShift.FirstOrDefault(c => c.IdShiftOfCabin == shift.Id && c.TeachingDay == _day && c.IdCabin == cabin.Id))

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(322, "class", "room selected");
            __builder.AddAttribute(323, "style", "line-height:50px;");
            __builder.AddAttribute(324, "b-6m1ithu1hs");
            __builder.OpenElement(325, "b");
            __builder.AddAttribute(326, "style", "font-size:1.3em; ");
            __builder.AddAttribute(327, "b-6m1ithu1hs");
#nullable restore
#line (302,75)-(302,90) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(328, cabin.CabinName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(329, "\r\n                                            ");
            __builder.OpenElement(330, "div");
            __builder.AddAttribute(331, "style", "font-size:1em;line-height:30px; margin-bottom:7px;");
            __builder.AddAttribute(332, "b-6m1ithu1hs");
#nullable restore
#line (304,51)-(304,181) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(333, listFullShift.FirstOrDefault(c => c.IdShiftOfCabin == shift.Id && c.TeachingDay == _day && c.IdCabin == cabin.Id).LecturerUserName);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(334, "\r\n                                                <br b-6m1ithu1hs>\r\n                                                ");
#nullable restore
#line (306,51)-(306,174) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(335, listFullShift.FirstOrDefault(c => c.IdShiftOfCabin == shift.Id && c.TeachingDay == _day && c.IdCabin == cabin.Id).ClassName);

#line default
#line hidden
#nullable disable
            __builder.AddContent(336, "-");
#nullable restore
#line (306,178)-(306,303) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(337, listFullShift.FirstOrDefault(c => c.IdShiftOfCabin == shift.Id && c.TeachingDay == _day && c.IdCabin == cabin.Id).SubjectCode);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(338, "\r\n                                                <br b-6m1ithu1hs>\r\n                                                ");
#nullable restore
#line (308,51)-(308,463) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(339, !(listGroupCabin.Any(c => c.IdCabin == cabin.Id)) ? "Không thuộc chuyên ngành" : (listGroupCabin.Where(c => c.IdCabin == cabin.Id).ToList().Count() == 1) ? listSpec.FirstOrDefault(c => c.Id == listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id).IdSpec).SpecializationName : (listSpec.FirstOrDefault(c => c.Id == listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id).IdSpec).SpecializationName + ",..."));

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 311 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }
                                    else if (cabin.Status == 2)
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(340, "div");
            __builder.AddAttribute(341, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 314 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                         () => Notify(shift, cabin, null)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(342, "class", "room repairing");
            __builder.AddAttribute(343, "style", "line-height:50px;");
            __builder.AddAttribute(344, "b-6m1ithu1hs");
            __builder.OpenElement(345, "b");
            __builder.AddAttribute(346, "style", "font-size:1.3em; ");
            __builder.AddAttribute(347, "b-6m1ithu1hs");
#nullable restore
#line (314,172)-(314,187) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(348, cabin.CabinName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddContent(349, " ");
            __builder.OpenElement(350, "div");
            __builder.AddAttribute(351, "style", "font-size:1em;line-height:30px; margin-bottom:7px;");
            __builder.AddAttribute(352, "b-6m1ithu1hs");
#nullable restore
#line (314,258)-(314,272) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(353, "Đang bảo trì");

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(354, "<br b-6m1ithu1hs><br b-6m1ithu1hs>");
#nullable restore
#line (314,283)-(314,501) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(355, listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id) == null ? "Không thuộc chuyên ngành" : listSpec.FirstOrDefault(c => c.Id == listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id).IdSpec).SpecializationName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 315 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(356, "div");
            __builder.AddAttribute(357, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 318 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                                         () => Notify(shift, cabin, null)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(358, "class", "room");
            __builder.AddAttribute(359, "style", "line-height:50px;");
            __builder.AddAttribute(360, "b-6m1ithu1hs");
            __builder.OpenElement(361, "b");
            __builder.AddAttribute(362, "style", "font-size:1.3em; ");
            __builder.AddAttribute(363, "b-6m1ithu1hs");
#nullable restore
#line (318,162)-(318,177) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(364, cabin.CabinName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddContent(365, " ");
            __builder.OpenElement(366, "div");
            __builder.AddAttribute(367, "style", "font-size:1em;line-height:30px; margin-bottom:7px;");
            __builder.AddAttribute(368, "b-6m1ithu1hs");
#nullable restore
#line (318,248)-(318,259) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(369, "Còn trống");

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(370, "<br b-6m1ithu1hs><br b-6m1ithu1hs>");
#nullable restore
#line (318,270)-(318,488) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
__builder.AddContent(371, listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id) == null ? "Không thuộc chuyên ngành" : listSpec.FirstOrDefault(c => c.Id == listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id).IdSpec).SpecializationName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 319 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
                                    }

                                }
                            }
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 326 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 329 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 330 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\CabinProject\DaoTao\ListCabin.razor"
       
    [Parameter]
    public string idTrainingFacilityNonDecrypt { get; set; }
    public string idTrainingFacility { get; set; }

    [Parameter]
    public string idShiftNonDecrypt { get; set; }
    public string idShift { get; set; }

    [Parameter]
    public string dateInput { get; set; } //{day.Day}-{day.Month}-{day.Year}
    ShiftOfCabinFullVM _Model = new ShiftOfCabinFullVM();
    [Inject] public CryptoServices _cryptoServices { get; set; }
    [Inject] IShiftOfCabinApiClient shiftOfCabinApiClient { get; set; }
    //[Inject] ISemesterRepo semesterRepo { get; set; }
    //[Inject] IBlockRepo blockRepo { get; set; }
    [Inject] NavigationManager _navigationManager { get; set; }
    [Inject] ISemesterBlockRepo semesterBlockRepo { get; set; }
    [Inject] IGroupCabinRepo groupCabinRepo { get; set; }
    [Inject] ISpecializedUPRepo specializedUPRepo { get; set; }
    List<GroupCabinViewModel> listGroupCabinDefault { get; set; }
    List<GroupCabinViewModel> listGroupCabin { get; set; }
    [Inject] ICabinRepo cabinRepo { get; set; }
    [Inject] private IToastService _toastService { get; set; }
    DateTime startDateOfBlock;
    List<(string, DateTime)> daysOfWeek = new List<(string, DateTime)>();
    List<ShiftOfCabinVM> listShift = new List<ShiftOfCabinVM>();
    List<ShiftOfCabinVM> listShiftDefault = new List<ShiftOfCabinVM>();
    List<SpecializedDto> listSpec;
    List<CabinViewModel> listCabinActiveDefault;
    List<CabinViewModel> listCabinActive;
    [Inject] public IBookingCabinApiClient _bookingCabinApiClient { get; set; }
    [Inject] SweetAlertService Swal { get; set; }
    [Inject] public IBookingRequestRepo _bookingRequestRepo { get; set; }
    List<BookingCabinVM> listBookingCabin;

    private string nullString = null;

    private string semesterBlock;
    private string week;
    DateTime? _day;
    string _idFilterShift;
    string _idFilterSpecialized = Guid.Empty.ToString();
    string _filterBuldingName = "";
    bool classroom;

    List<ShiftOfCabinFullVM> listFullShift = new List<ShiftOfCabinFullVM>();

    List<string> listWeekOfBlock = new List<string>();
    private string close = "none";//dùng đóng mở tab chụp ảnh

    private string lecturerName = "";
    private string subjectClass = "";
    private string shift = "";
    private string cabinName = "";
    private string specializedName = "";
    private string cabinStatus = "";
    private byte[]? checkinImage = null;

    Guid? IdClass = null;
    Guid? IdSubject = null;
    Guid? IdLecturer = null;
    Guid? IdShift = null;
    Guid? IdCabin = null;

    string IdLecturerForBooking = null;
    string IdClassSubjectForBooking = null;
    string CancelReason = null;

    bool hiddenBooking = true;
    bool hiddenCancel = true;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            idTrainingFacility = _cryptoServices.Decrypt(idTrainingFacilityNonDecrypt.Replace("cabin", "/"));
            idShift = _cryptoServices.Decrypt(idShiftNonDecrypt.Replace("cabin", "/"));
            try
            {
                string url = "http://localhost:5001/SignalRCabinHub";
                HubConnection _connection = null;
                bool isConnected = false;
                string connectionStatus = "Closed";
                _connection = new HubConnectionBuilder()
                    .WithUrl(url)
                    .Build();

                await _connection.StartAsync();
                isConnected = true;
                connectionStatus = "Connected :-)";

                _connection.Closed += async (s) =>
                {
                    isConnected = false;
                    connectionStatus = "Disconnected";
                    await _connection.StartAsync();
                    isConnected = true;
                };

                _connection.On<string>("SignalRCabins", async (res) =>
                {
                    if (res == "Done")
                    {
                        await OnInitializedAsync();

                        await this.InvokeAsync(() => this.StateHasChanged());
                    }
                });

                _connection.On<string>("SignalRGroupCabins", async (res) =>
                {
                    if (res == "Done")
                    {
                        await OnInitializedAsync();

                        await this.InvokeAsync(() => this.StateHasChanged());
                    }
                });

                _connection.On<string>("SignalRBookingCabins", async (res) =>
                {
                    if (res == "Done")
                    {
                        await OnInitializedAsync();

                        await this.InvokeAsync(() => this.StateHasChanged());
                    }
                });

                _connection.On<string>("SignalRTeachingSchedules", async (res) =>
                {
                    if (res == "Done")
                    {
                        await OnInitializedAsync();

                        await this.InvokeAsync(() => this.StateHasChanged());
                    }
                });

                _connection.On<string>("SignalRSemesterBlocks", async (res) =>
                {
                    if (res == "Done")
                    {
                        await OnInitializedAsync();

                        await this.InvokeAsync(() => this.StateHasChanged());
                    }
                });
            }
            catch (Exception ex)
            {


            }
            finally
            {
                listBookingCabin = await _bookingCabinApiClient.GetAll();
                listBookingCabin = listBookingCabin.Where(c => c.Status != 1).ToList();

                _day = new DateTime(Convert.ToInt32(dateInput.Split("-")[2]), Convert.ToInt32(dateInput.Split("-")[1]), Convert.ToInt32(dateInput.Split("-")[0]));
                _idFilterShift = idShift;
                LoadDaysOfWeek(new DateTime(Convert.ToInt32(dateInput.Split("-")[2]), Convert.ToInt32(dateInput.Split("-")[1]), Convert.ToInt32(dateInput.Split("-")[0])));

                await LoadData();
            }
        }
        catch
        {
            // Lịch học rỗng
            listFullShift = new List<ShiftOfCabinFullVM>();
        }

    }

    private async Task LoadData()
    {
        try
        {
            listCabinActiveDefault = await cabinRepo.GetAllCabinAsync();
            listCabinActiveDefault = (listCabinActiveDefault == null) ? new() : listCabinActiveDefault.Where(c => c.Status != 1 && c.IdTrainingFacility == Guid.Parse(idTrainingFacility)).ToList();
            listCabinActive = listCabinActiveDefault;

            listShiftDefault = await shiftOfCabinApiClient.GetAll();
            listShiftDefault = (listShiftDefault == null) ? new() : listShiftDefault.Where(c => c.Status == 0).ToList();
            listShift = string.IsNullOrEmpty(_idFilterShift) ? listShiftDefault : listShiftDefault.Where(c => c.Id == Guid.Parse(_idFilterShift)).ToList();

            //idUser = _cryptoServices.Decrypt(idUserNonDecrypt);

            //listSubClass = await subjectClassRepo.GetAllClass();
            //listSubClass = listSubClass.Where(c => c.HomeroomLecturerId == Guid.Parse(idUser)).ToList();
            listGroupCabinDefault = await groupCabinRepo.GetAllGroupCabinAsync();
            listGroupCabinDefault = (listGroupCabinDefault == null) ? new() : listGroupCabinDefault.Where(c => c.Status == 0).ToList();
            listGroupCabin = listGroupCabinDefault;
            listSpec = await specializedUPRepo.GetAll();

            listFullShift = await shiftOfCabinApiClient.GetAllInformationOfShiftOfCabin();
            listFullShift = (listFullShift == null) ? new() : listFullShift.Where(c => c.IdTrainingFacility == Guid.Parse(idTrainingFacility)).ToList();

            //week = $"{daysOfWeek[0].Item2.ToString("dd/MM/yyyy")} - {daysOfWeek[0].Item2.AddDays(6).ToString("dd/MM/yyyy")}";
        }
        catch (Exception)
        {
            listFullShift = new List<ShiftOfCabinFullVM>();
        }
    }

    public async Task Notify(ShiftOfCabinVM shiftInput, CabinViewModel cabin, ShiftOfCabinFullVM? detail)//bật tắt detail
    {
        IdClass = detail == null ? null : detail.IdClass;
        IdSubject = detail == null ? null : detail.IdSubject;
        IdLecturer = detail == null ? null : detail.IdLecturer;
        IdShift = shiftInput.Id;
        IdCabin = cabin.Id;

        shift = shiftInput.ShiftName + ", " + _day.Value.ToString("dd/MM/yyyy");
        cabinStatus = (cabin.Status == 0) ? "Còn trống" : (cabin.Status == 2) ? "Đang bảo trì" : "N/A";
        cabinName = cabin.CabinName == null ? "N/A" : cabin.CabinName;
        specializedName = "";
        foreach (var idspec in listGroupCabin.Where(c => c.IdCabin == cabin.Id).Select(c => c.IdSpec))
        {
            specializedName += listSpec.FirstOrDefault(c => c.Id == idspec).SpecializationName + ", ";
        }

        specializedName = listGroupCabin.FirstOrDefault(c => c.IdCabin == cabin.Id) == null ? "N/A" : specializedName.Substring(0, specializedName.Length - 2);
        if (detail != null)
        {
            lecturerName = detail.LecturerUserName;
            subjectClass = detail.ClassName + "-" + detail.SubjectCode;
            cabinStatus = "Đã chọn";

            var x = listBookingCabin.FirstOrDefault(c => c.IdShift == IdShift
                          && c.ClassId == IdClass
                          && c.SubjectId == IdSubject
                          && c.IdLectuter == IdLecturer
                          && c.DateCreated == _day);

            if (listBookingCabin.FirstOrDefault(c => c.IdShift == IdShift
                          && c.ClassId == IdClass
                          && c.SubjectId == IdSubject
                          && c.IdLectuter == IdLecturer
                          && c.DateCreated == _day) != null)
            {
                if (listBookingCabin.FirstOrDefault(c => c.IdShift == IdShift
                                  && c.ClassId == IdClass
                                  && c.SubjectId == IdSubject
                                  && c.IdLectuter == IdLecturer
                                  && c.DateCreated == _day).CheckinImage != null)
                {
                    checkinImage = listBookingCabin.FirstOrDefault(c => c.IdShift == IdShift
                                  && c.ClassId == IdClass
                                  && c.SubjectId == IdSubject
                                  && c.IdLectuter == IdLecturer
                                  && c.DateCreated == _day).CheckinImage;

                }
            }


        }
        else
        {
            lecturerName = "N/A";
            subjectClass = "N/A";
            checkinImage = null;
        }

        close = "block";
    }

    public async Task Submit()
    {
        close = "none";

        lecturerName = "N/A";
        subjectClass = "N/A";
        shift = "N/A";
        specializedName = "N/A";
        cabinStatus = "N/A";
        cabinName = "N/A";
        checkinImage = null;

        CancelReason = null;
        IdLecturerForBooking = null;
        IdClassSubjectForBooking = null;

        await LoadData();
    }

    public void CheckLecturerForBooking(string value)
    {
        IdLecturerForBooking = value;
    }

    public void CheckClassSubjectForBooking(string value)
    {
        IdClassSubjectForBooking = value;
    }

    public async Task BookCabin()
    {
        var shift = listShiftDefault.FirstOrDefault(c => c.Id == Guid.Parse(IdShift.ToString()));
        var StartShift = shift.StartTime;
        var EndShift = shift.EndTime;

        if (DateTime.Now < new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, EndShift.Hours, EndShift.Minutes, EndShift.Seconds))
        {
            if (!string.IsNullOrEmpty(IdLecturerForBooking) && !string.IsNullOrEmpty(IdClassSubjectForBooking))
            {
                close = "none";
                var listBookingCabin = await _bookingCabinApiClient.GetAll();

                var idClassBooking = IdClassSubjectForBooking.Split("*")[0];
                var idSubjectBooking = IdClassSubjectForBooking.Split("*")[1];

                var objForCreate = listBookingCabin.FirstOrDefault(c => c.SubjectId == Guid.Parse(idSubjectBooking) && c.ClassId == Guid.Parse(idClassBooking) && c.IdShift == IdShift && c.IdLectuter == Guid.Parse(IdLecturerForBooking) && c.IdCabin == IdCabin && c.DateCreated == new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day));
                var resBooking = false;
                var resRequest = false;

                // Tạo bookingcabin
                if (objForCreate == null)
                {
                    var obj = new BookingCabinCreateVM()
                        {
                            Id = Guid.NewGuid(),
                            SubjectId = Guid.Parse(idSubjectBooking.ToString()),
                            ClassId = Guid.Parse(idClassBooking.ToString()),
                            IdCabin = Guid.Parse(IdCabin.ToString()),
                            IdShift = Guid.Parse(IdShift.ToString()),
                            IdLectuter = Guid.Parse(IdLecturerForBooking.ToString()),
                            //CheckinImage = bookingCabinVM.CheckinImage,
                            CheckinTime = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, StartShift.Hours, StartShift.Minutes, StartShift.Seconds),
                            CheckoutTime = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, EndShift.Hours, EndShift.Minutes, EndShift.Seconds),
                            //Note = bookingCabinVM.Note,
                            DateCreated = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day),
                            Status = 0
                        };
                    resBooking = await _bookingCabinApiClient.Add(obj);
                }
                else
                {
                    resBooking = await _bookingCabinApiClient.Update(objForCreate.Id, Guid.Parse(IdCabin.ToString()), Guid.Parse(idSubjectBooking.ToString()), Guid.Parse(idClassBooking.ToString()), Guid.Parse(IdShift.ToString()),
                    new BookingCabinUpdateVM()
                        {
                            Id = objForCreate.Id,
                            SubjectId = objForCreate.SubjectId,
                            ClassId = objForCreate.ClassId,
                            IdCabin = objForCreate.IdCabin,
                            IdShift = objForCreate.IdShift,
                            IdLectuter = objForCreate.IdLectuter,
                            CheckinImage = null,
                            CheckinTime = objForCreate.CheckinTime,
                            CheckoutTime = objForCreate.CheckoutTime,
                            Note = objForCreate.Note,
                            IndexOfBookingCabin = objForCreate.IndexOfBookingCabin,
                            DateCreated = objForCreate.DateCreated,
                            Status = 0
                        });
                }

                // tạo booking request
                if (resBooking)
                {
                    var StartTimeOfBR = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, StartShift.Hours, StartShift.Minutes, StartShift.Seconds);
                    var EndTimeOfBR = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, EndShift.Hours, EndShift.Minutes, EndShift.Seconds);

                    var booking = new BookingRequestCreateViewModel
                        {
                            ContentOfRequest = "Đã được chọn giúp cabin",
                            IdLectuter = Guid.Parse(IdLecturerForBooking.ToString()),
                            SendingTime = DateTime.Now,
                            SubjectId = Guid.Parse(idSubjectBooking.ToString()),
                            ClassId = Guid.Parse(idClassBooking.ToString()),
                            Status = 4,
                            ContenOfFeedBack = "Đã được chọn giúp cabin",
                            StartTime = StartTimeOfBR,
                            FeedBackTime = DateTime.Now,
                            EndTime = EndTimeOfBR
                        };

                    // check BookingRequest.Status=0 của giảng viên bên BookingRequestPage
                    // tồn tại ? tạo BookingRequest có status = 2 : status = 4
                    var listBookingRequest = await _bookingRequestRepo.GetAllBookingRequestAsync();

                    if (listBookingRequest.Any(c => c.IdLectuter == Guid.Parse(IdLecturerForBooking.ToString()) &&
                    c.SubjectId == Guid.Parse(idSubjectBooking.ToString()) &&
                    c.ClassId == Guid.Parse(idClassBooking.ToString()) &&
                    c.StartTime == StartTimeOfBR &&
                    c.EndTime == EndTimeOfBR
                    ))
                    {
                        booking.Status = 2;
                    }

                    resRequest = await _bookingRequestRepo.CreateBookingRequest(booking);
                }

                if (resBooking && resRequest)
                {
                    await Swal.FireAsync("Xếp Cabin", "Xếp Cabin Cho Lớp Học Thành Công", SweetAlertIcon.Success);
                }
                else
                {
                    await Swal.FireAsync("Xếp Cabin", "Xếp Cabin Cho Lớp Học Thất Bại", SweetAlertIcon.Error);
                }

            }
            else
            {
                _toastService.ShowError($"Không được để trống giảng viên / lớp-môn để xếp cabin");
            }
        }
        else
        {
            _toastService.ShowError($"Đã quá thời gian xếp/hủy cabin");
        }
        await Submit();
    }

    public async Task CancelCabin()
    {
        var shift = listShiftDefault.FirstOrDefault(c => c.Id == Guid.Parse(IdShift.ToString()));
        var StartShift = shift.StartTime;
        var EndShift = shift.EndTime;
        if (DateTime.Now < new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, EndShift.Hours, EndShift.Minutes, EndShift.Seconds))
        {

            CancelReason = CancelReason == null ? "" : CancelReason;
            if (CancelReason.Trim().Length == 0)
            {
                _toastService.ShowError($"Không được để trống lí do hủy cabin");
            }
            else
            {
                close = "none";
                // Xóa bookingcabin
                var listBookingCabin = await _bookingCabinApiClient.GetAll();

                var obj = listBookingCabin.FirstOrDefault(c => c.Status != 1 && c.SubjectId == IdSubject && c.ClassId == IdClass && c.IdShift == IdShift && c.IdLectuter == IdLecturer && c.IdCabin == IdCabin && c.DateCreated == new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day));
                var resBooking = obj == null ? true : await _bookingCabinApiClient.Delete(obj.Id, Guid.Parse(IdCabin.ToString()), Guid.Parse(IdSubject.ToString()), Guid.Parse(IdClass.ToString()), Guid.Parse(IdShift.ToString()));
                var resRequest = false;

                // tạo booking request
                if (resBooking)
                {
                    var StartTimeOfBR = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, StartShift.Hours, StartShift.Minutes, StartShift.Seconds);
                    var EndTimeOfBR = new DateTime(_day.Value.Year, _day.Value.Month, _day.Value.Day, EndShift.Hours, EndShift.Minutes, EndShift.Seconds);

                    var booking = new BookingRequestCreateViewModel
                        {
                            ContentOfRequest = "Đã bị hủy cabin",
                            IdLectuter = Guid.Parse(IdLecturer.ToString()),
                            SendingTime = DateTime.Now,
                            SubjectId = Guid.Parse(IdSubject.ToString()),
                            ClassId = Guid.Parse(IdClass.ToString()),
                            Status = 5,
                            ContenOfFeedBack = "Hủy cabin vì: " + CancelReason,
                            StartTime = StartTimeOfBR,
                            FeedBackTime = DateTime.Now,
                            EndTime = EndTimeOfBR
                        };

                    var listBookingRequest = await _bookingRequestRepo.GetAllBookingRequestAsync();

                    if (listBookingRequest.Any(c => c.IdLectuter == Guid.Parse(IdLecturer.ToString()) &&
                        c.SubjectId == Guid.Parse(IdSubject.ToString()) &&
                    c.ClassId == Guid.Parse(IdClass.ToString()) &&
                    c.StartTime == StartTimeOfBR &&
                    c.EndTime == EndTimeOfBR
                    ))
                    {
                        booking.Status = 3;
                    }
                    resRequest = await _bookingRequestRepo.CreateBookingRequest(booking);
                }

                if (resBooking && resRequest)
                {
                    await Swal.FireAsync("Hủy Cabin", "Hủy Cabin Cho Lớp Học Thành Công", SweetAlertIcon.Success);
                }
                else
                {
                    await Swal.FireAsync("Hủy Cabin", "Hủy Cabin Cho Lớp Học Thất Bại", SweetAlertIcon.Error);
                }
            }
        }
        else
        {
            _toastService.ShowError($"Đã quá thời gian xếp/hủy cabin");
        }
        await Submit();
    }

    public async Task CheckTime(string? value)
    {
        _idFilterShift = value;

        listShift = listShiftDefault;
        if (_day != null && !string.IsNullOrEmpty(_idFilterShift))
        {
            listShift = listShiftDefault.Where(c => c.Id == Guid.Parse(_idFilterShift)).ToList();
        }
    }

    public void CheckDay(DateTime? value)
    {
        _day = value;
        if (_day != null)
        {
            classroom = false;
        }
    }

    public async Task CheckBuilding(string value)
    {
        _filterBuldingName = value;
        listCabinActive = listCabinActiveDefault;
        if (_idFilterSpecialized != Guid.Empty.ToString())
        {
            if (!string.IsNullOrEmpty(_idFilterSpecialized))
            {
                listCabinActive = listCabinActive.Where(c => listGroupCabin.Where(x => x.IdSpec == Guid.Parse(_idFilterSpecialized)).Any(x => x.IdCabin == c.Id)).ToList();
            }
            else
            {
                listCabinActive = listCabinActive.Where(c => !listGroupCabin.Any(x => x.IdCabin == c.Id)).ToList();
            }
        }
        if (!string.IsNullOrEmpty(_filterBuldingName))
        {
            listCabinActive = listCabinActive.Where(c => c.BuildingName == _filterBuldingName).ToList();
        }
    }

    public async Task CheckSpecialized(string value)
    {
        _idFilterSpecialized = value;
        listCabinActive = listCabinActiveDefault;
        if (_idFilterSpecialized != Guid.Empty.ToString())
        {
            if (!string.IsNullOrEmpty(_idFilterSpecialized))
            {
                listCabinActive = listCabinActive.Where(c => listGroupCabin.Where(x => x.IdSpec == Guid.Parse(_idFilterSpecialized)).Any(x => x.IdCabin == c.Id)).ToList();
            }
            else
            {
                listCabinActive = listCabinActive.Where(c => !listGroupCabin.Any(x => x.IdCabin == c.Id)).ToList();
            }
        }
        if (!string.IsNullOrEmpty(_filterBuldingName))
        {
            listCabinActive = listCabinActive.Where(c => c.BuildingName == _filterBuldingName).ToList();
        }
    }

    public async Task CheckLecturer(Guid? value)
    {
        IdLecturer = value;
    }

    public void LoadDaysOfWeek(DateTime date)
    {
        date = new DateTime(date.Year, date.Month, date.Day);
        daysOfWeek = new List<(string, DateTime)>();

        var dayOfWeek = date.DayOfWeek;
        DateTime monday = new DateTime();
        if (dayOfWeek == DayOfWeek.Sunday)
        {
            //xét chủ nhật là ngày cuối tuần
            monday = date.AddDays(-6);
        }
        else
        {
            int offset = dayOfWeek - DayOfWeek.Monday;
            monday = date.AddDays(-offset);
        }

        daysOfWeek.Add(new("Thứ 2", monday));
        for (int i = 1; i < 7; i++)
        {
            if (i == 6)
            {
                daysOfWeek.Add(new($"Chủ Nhật", monday.AddDays(i)));
            }
            else
            {
                daysOfWeek.Add(new($"Thứ {i + 2}", monday.AddDays(i)));
            }
        }
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
    }
}
namespace __Blazor.FPLSP.Pages.CabinProject.DaoTao.ListCabin
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateInputSelect_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Object __arg1, int __seq2, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg2, int __seq3, TValue __arg3, int __seq4, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg4, int __seq5, global::Microsoft.AspNetCore.Components.RenderFragment __arg5)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "id", __arg0);
        __builder.AddAttribute(__seq1, "class", __arg1);
        __builder.AddAttribute(__seq2, "ValueExpression", __arg2);
        __builder.AddAttribute(__seq3, "Value", __arg3);
        __builder.AddAttribute(__seq4, "ValueChanged", __arg4);
        __builder.AddAttribute(__seq5, "ChildContent", __arg5);
        __builder.CloseComponent();
        }
        public static void CreateInputSelect_1<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Object __arg1, int __seq2, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg2, int __seq3, TValue __arg3, int __seq4, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg4, int __seq5, global::Microsoft.AspNetCore.Components.RenderFragment __arg5)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "id", __arg0);
        __builder.AddAttribute(__seq1, "class", __arg1);
        __builder.AddAttribute(__seq2, "ValueExpression", __arg2);
        __builder.AddAttribute(__seq3, "Value", __arg3);
        __builder.AddAttribute(__seq4, "ValueChanged", __arg4);
        __builder.AddAttribute(__seq5, "ChildContent", __arg5);
        __builder.CloseComponent();
        }
        public static void CreateInputSelect_2<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::Microsoft.AspNetCore.Components.RenderFragment __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "class", __arg0);
        __builder.AddAttribute(__seq1, "ValueExpression", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ChildContent", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateInputSelect_3<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::Microsoft.AspNetCore.Components.RenderFragment __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "class", __arg0);
        __builder.AddAttribute(__seq1, "ValueExpression", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ChildContent", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateInputSelect_4<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::Microsoft.AspNetCore.Components.RenderFragment __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "class", __arg0);
        __builder.AddAttribute(__seq1, "ValueExpression", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ChildContent", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateInputSelect_5<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::Microsoft.AspNetCore.Components.RenderFragment __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputSelect<TValue>>(seq);
        __builder.AddAttribute(__seq0, "class", __arg0);
        __builder.AddAttribute(__seq1, "ValueExpression", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ChildContent", __arg4);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
