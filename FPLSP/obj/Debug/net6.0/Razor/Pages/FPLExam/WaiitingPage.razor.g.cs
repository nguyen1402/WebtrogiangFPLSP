#pragma checksum "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "5b30232e709983451e45cc431930b88446c53ff8"
// <auto-generated/>
#pragma warning disable 1591
namespace FPLSP.Pages.FPLExam
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using AntDesign;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using FPLSP.Data.FPLExam;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using FPLSP.Repositories.Interfaces.FPLExam;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using FPLSP.Server.Domain.Entities.CoresParts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using FPLSP.Server.Domain.Entities.FPLExam;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using FPLSP.Server.Infrastructure.ViewModels.FPLExam;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using Microsoft.EntityFrameworkCore;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using SixLabors.Fonts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using SixLabors.ImageSharp.Drawing.Processing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using SixLabors.ImageSharp;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using SixLabors.ImageSharp.Drawing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using SixLabors.ImageSharp.Formats.Jpeg;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using SixLabors.ImageSharp.Processing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
using System.Text;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.LayoutAttribute(typeof(MainLayout))]
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/loadingpage/{GetIdUser}")]
    public partial class WaiitingPage : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenComponent<global::AntDesign.Steps>(0);
            __builder.AddAttribute(1, "Current", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Int32>(
#nullable restore
#line 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                current

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(2, "Class", "indafuckinhtop");
            __builder.AddAttribute(3, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
#nullable restore
#line 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
     foreach (var item in steps)
    {

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<global::AntDesign.Step>(4);
                __builder2.AddAttribute(5, "Subtitle", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.String>(
#nullable restore
#line 29 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                         item.Content

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(6, "Title", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.String>(
#nullable restore
#line 29 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                               item.Title

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseComponent();
#nullable restore
#line 30 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
    }

#line default
#line hidden
#nullable disable
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(7, "\r\n\r\n");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "class", "steps-content");
#nullable restore
#line 35 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
     if (current == 0)
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "mt-5");
            __builder.OpenComponent<global::AntDesign.Search>(12);
            __builder.AddAttribute(13, "Placeholder", "Nhập Mã Ở Đây");
            __builder.AddAttribute(14, "Size", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.String>(
#nullable restore
#line 38 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                       InputSize.Large

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(15, "EnterButton", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::OneOf.OneOf<System.Boolean, System.String>>(
#nullable restore
#line 38 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                                                       "Search"

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(16, "Class", "mt-5");
            __builder.AddAttribute(17, "OnSearch", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.String>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.String>(this, 
#nullable restore
#line 38 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                                                                                                                 OnSearch

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(18, "Value", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.String>(
#nullable restore
#line 38 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                                                                                txtValue

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(19, "ValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.String>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.String>(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => txtValue = __value, txtValue))));
            __builder.AddAttribute(20, "ValueExpression", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Linq.Expressions.Expression<System.Func<System.String>>>(() => txtValue));
            __builder.CloseComponent();
            __builder.CloseElement();
#nullable restore
#line 40 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 41 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
     if (current == 1)
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "class", "row");
            __builder.AddMarkupContent(23, @"<div class=""col-md-6""><div class=""card""><div class=""card-header""><div class=""card-title"">Máy Ảnh</div></div>

                    <div class=""card-body""><div id=""cameramer"" style=""width: 320px;height: 240px;align-content: center;padding-left:120px;""></div></div>
                    <div class=""card-footer""></div></div></div>
            ");
            __builder.OpenElement(24, "div");
            __builder.AddAttribute(25, "class", "col-md-6");
            __builder.OpenElement(26, "div");
            __builder.AddAttribute(27, "class", "card");
            __builder.AddMarkupContent(28, "<div class=\"card-header\"><div class=\"card-title\">Hình Ảnh</div></div>\r\n\r\n                    ");
            __builder.OpenElement(29, "div");
            __builder.AddAttribute(30, "class", "card-body");
            __builder.OpenElement(31, "div");
            __builder.AddAttribute(32, "id", "results");
#nullable restore
#line 77 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                             if (stringList.Count() > 0)
                            {
                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 79 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                 foreach (var item in stringList)
                                {


#line default
#line hidden
#nullable disable
            __builder.OpenElement(33, "img");
            __builder.AddAttribute(34, "src", 
#nullable restore
#line 82 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                               item

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(35, "alt", "Alternate Text");
            __builder.CloseElement();
#nullable restore
#line 83 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"

                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 84 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                 
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::AntDesign.Empty>(36);
            __builder.CloseComponent();
#nullable restore
#line 89 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n                    <div class=\"card-footer\"></div>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 104 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
         if (current > 0)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::AntDesign.Button>(38);
            __builder.AddAttribute(39, "Type", "primary");
            __builder.AddAttribute(40, "class", "mt-4");
            __builder.AddAttribute(41, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 106 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                          OnPreClick

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(42, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(43, "\r\n                Quay Lại\r\n            ");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 109 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 110 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
         if (IsShowCotrol)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::AntDesign.Button>(44);
            __builder.AddAttribute(45, "Type", "primary");
            __builder.AddAttribute(46, "class", "mt-4");
            __builder.AddAttribute(47, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 112 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                          ShowModal

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(48, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(49, "\r\n                Mở Máy Ảnh\r\n            ");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 115 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 116 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
         if (IsShowTakin)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::AntDesign.Button>(50);
            __builder.AddAttribute(51, "Type", "primary");
            __builder.AddAttribute(52, "class", "mt-4");
            __builder.AddAttribute(53, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 118 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                          Capture

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(54, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(55, "\r\n                Chụp Ảnh Checkin\r\n            ");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 121 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 123 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
         if (!IsShowCotrol)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::AntDesign.Button>(56);
            __builder.AddAttribute(57, "Type", "primary");
            __builder.AddAttribute(58, "class", "mt-4");
            __builder.AddAttribute(59, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 125 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                          CLoesed

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(60, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(61, "\r\n                Đóng Máy Ảnh\r\n            ");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 128 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 129 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
         if (stringList.Count() > 0)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::AntDesign.Button>(62);
            __builder.AddAttribute(63, "Type", "primary");
            __builder.AddAttribute(64, "class", "mt-4");
            __builder.AddAttribute(65, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 131 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                          AcceptImage

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(66, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(67, "\r\n                Xác Nhận\r\n            ");
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 134 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"

        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 135 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
         



    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 140 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
     if (current == 2)
    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(68, "<h1>Nội Quy FPL Exam</h1>\r\n        ");
            __builder.AddMarkupContent(69, "<blockquote><p><q>Đề thi sẽ mở checkin 15p trước khi tiến hành phát đề thi, sinh viên phải thực hiện đúng và đầy đủ các bước checkin để có đủ điều kiện vào phòng thi</q></p>\r\n            <footer>FPL Exam</footer></blockquote>\r\n        ");
            __builder.AddMarkupContent(70, @"<blockquote><p><q>Sau khi vào phòng thi nếu chưa đến giờ thi sinh viên có thể thoát ra vào lại được, nếu đã đến giờ phát đề thi sinh viên thoát ra ngoài thì phải được giảng viên chấp thuận vào phòng thi thì sinh viên mới được vào</q></p>
            <footer>FPL Exam</footer></blockquote>
        ");
            __builder.AddMarkupContent(71, "<blockquote><p><q>Trong suốt quá trình thi vui lòng sinh viên không được phép chụp lại ảnh đề thi hay tiết lộ ra bên ngoài nếu phát hiện được sinh viên sẽ bị xử lí và kỉ luật</q></p>\r\n            <footer>FPL Exam</footer></blockquote>\r\n        ");
            __builder.AddMarkupContent(72, "<blockquote><p><q>Sau khi đề thi hết kết thúc, đề thi sẽ tự động thu hồi và sẽ chỉ cho mỗi sinh viên được phép mở 1 lần duy nhất với mục đích để kiểm tra đối chiếu với giám thị</q></p>\r\n            <footer>FPL Exam</footer></blockquote>\r\n        ");
            __builder.AddMarkupContent(73, "<blockquote><p><q>Trong suốt quá trình thi nếu có sự cố lập tức báo trực tiếp với giám thị</q></p>\r\n            <footer>FPL Exam</footer></blockquote>\r\n        ");
            __builder.OpenElement(74, "blockquote");
            __builder.AddMarkupContent(75, "<p><q>Chúc các bạn sinh viên hoàn thành tốt bài thi</q></p>\r\n            ");
            __builder.AddMarkupContent(76, "<footer>ALl For Love : FPL Exam</footer>\r\n            ");
            __builder.OpenComponent<global::AntDesign.Button>(77);
            __builder.AddAttribute(78, "Type", "primary");
            __builder.AddAttribute(79, "class", "mt-4 mt-2");
            __builder.AddAttribute(80, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 166 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                               OnPreClick

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(81, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(82, "\r\n                Quay Lại\r\n            ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(83, "\r\n            ");
            __builder.OpenComponent<global::AntDesign.Button>(84);
            __builder.AddAttribute(85, "Type", "primary");
            __builder.AddAttribute(86, "class", "mt-4");
            __builder.AddAttribute(87, "OnClick", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 169 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                          JoinOnlineExamRoom

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(88, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(89, "\r\n                Vào Phòng Thi\r\n            ");
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
#nullable restore
#line 173 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"

    }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(90, "<div class=\"row d-flex justify-content-center mb-5\"></div>");
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n\r\n\r\n\r\n");
            __builder.AddMarkupContent(92, @"<style>
    .steps-content {
        margin-top: 16px;
        border: 1px dashed #e9e9e9;
        border-radius: 6px;
        background-color: #fafafa;
        min-height: 200px;
        text-align: center;
        padding-top: 40px;
        margin-bottom: 16px;
    }

    .steps-action {
        margin-top: 20px;
    }

    .ant-steps {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        color: rgba(0, 0, 0, 0.85);
        font-size: 14px;
        top: 120px;
        left: 10px;
        line-height: 1.5715;
        list-style: none;
        font-feature-settings: 'tnum';
        display: flex;
        width: 100%;
        text-align: initial;
    }

</style>");
        }
        #pragma warning restore 1998
#nullable restore
#line 218 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
       
    private string txtValue = "";

    [Inject] public UserManager<UserSignIn> _userManager { get; set; }
    List<string> stringList = new List<string>();
    private string captionText;
    FontCollection collection = new FontCollection();
    private bool IsShowInput = false;
    private bool IsShowCotrol = true;
    private bool IsShowTakin = false;
    Font captionFont;
    private string frameUri;
    private bool IsShowCurrent1 = false;
    [Parameter]
    public string GetIdUser { get; set; }
    RenderFragment icon = 

#line default
#line hidden
#nullable disable
        (__builder2) => {
            __builder2.OpenComponent<global::AntDesign.Icon>(93);
            __builder2.AddAttribute(94, "Type", "exclamation-circle");
            __builder2.AddAttribute(95, "Theme", "outline");
            __builder2.CloseComponent();
        }
#nullable restore
#line 233 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\FPLExam\WaiitingPage.razor"
                                                                                  ;
    public class StepItem
    {
        public string Title { get; set; }
        public string Content { get; set; }
    }
    public int current { get; set; } = 0;
    public StepItem[] steps =
      {
        new StepItem {Title = "Bước 1:", Content = "Nhập Mã Do Giám Thị Cung Cấp"},
        new StepItem {Title = "Bước 2:", Content = "Tiến Hành Checkin Bằng WebCam"},
        new StepItem {Title = "Bước 3:", Content = "Xác Nhận Nội Quy"},

    };
    [Inject] public IExaminationRoomDetailRepo _examinationRoomDetailRepo { get; set; }
    [Inject] public IOnlineExamRoomRepo _onlineExamRoomRepo { get; set; }

    private byte[] GetImage;
    private List<ExaminationRoomDetail> _lstExamDetailer = new List<ExaminationRoomDetail>();
    private List<OnlineExamRoom> _lstUser = new List<OnlineExamRoom>();


    private string getEmail = "";
    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        var user = authState.User;
        if (user.Identity.IsAuthenticated)
        {

            _lstExamDetailer = await _examinationRoomDetailRepo.GetAllExaminationRoomDetail();
            _lstUser = await _onlineExamRoomRepo.GetAllOnlineExamRoom();
            //captionFont = SystemFonts.CreateFont("Ubuntu", 20, FontStyle.Italic);
        }

    }

    public async void CLoesed()
    {
        await JSRuntime.InvokeVoidAsync("stopVideo", "camera");
        IsShowInput = false;
        IsShowCotrol = true;
        IsShowTakin = false;
        StateHasChanged();
    }
    private async Task AcceptImage()
    {
        await JSRuntime.InvokeVoidAsync("stopVideo", "camera");
        IsShowInput = false;
        IsShowCotrol = true;
        IsShowTakin = false;
        StateHasChanged();
        current++;
    }
    private async Task JoinOnlineExamRoom()
    {
        if (string.IsNullOrEmpty(txtValue))
        {


            await Swal.FireAsync(
        "Thất Bại",
        "Mã Tham Gia Không Thể Để Trống !",
        SweetAlertIcon.Error
        );

            return;

        }


        var ExamRoom = await _examinationRoomDetailRepo.GetExaminamRoomDetailBySecret(txtValue);
        var lonebo = await _onlineExamRoomRepo.GetOnlineExamRoomById(txtValue);
        //xử lý thêm  thông tin sinh viên ở đây
        OnlineExamViewModel onlineExamViewModel = new OnlineExamViewModel()
            {
                IdUser = GetIdUser,
                SecretKey = txtValue,
                IdExaminationRoom = ExamRoom.IdExaminationRoom,
                JoinTime = DateTime.Now,
                StartTime = ExamRoom.StartTime,
                CountTurnJoin = 0,
                ChekinImage = Encoding.ASCII.GetBytes(frameUri),
                EndTime = ExamRoom.StartTime.AddMinutes(ExamRoom.TotalTimeOfExam),
                LeaveTime = ExamRoom.EndTime,
                Status = 0,
                IndexOfStudent = lonebo.Count() == 0 ? 1 : lonebo.Max(c => c.IndexOfStudent) + 1,
                Note = "",
                IsCompletedExam = false,
                IsViewExamFile = true,

            };
        var res = await _onlineExamRoomRepo.AddOnlineExamRoom(onlineExamViewModel);
        if (res)
        {
            
            await Swal.FireAsync(
        "Thành Công",
        "Vui lòng chờ điều hướng đến phòng thi ",
        SweetAlertIcon.Success
        );
         NavigationManager.NavigateTo($"/onlineroomhandler/{txtValue}/{GetIdUser}",true);
           

        }
           
        


    }
    async Task OnPreClick()
    {
        current--;
    }

    async Task OnNextClick()
    {
        current++;
    }
    //
    private bool loading;



    public async Task OnSearch()
    {

        SweetAlertResult result = await Swal.FireAsync(new SweetAlertOptions
            {
                Title = $"Xác Nhận Vào Phòng Thi",
                Text = "Bạn Có Muốn Vào Phòng Thi Hay Không ?",
                Icon = SweetAlertIcon.Warning,
                ShowCancelButton = true,
                ConfirmButtonText = "Đồng Ý",
                CancelButtonText = "Hủy"
            });

        if (!string.IsNullOrEmpty(result.Value))
        {

            if (_lstExamDetailer.Any(c => c.SecretKey == txtValue))
            {

                if (_lstUser.Any(c => c.SecretKey == txtValue && c.IdUser == c.IdUser))
                {
                    var lastesstUserExam = await _onlineExamRoomRepo.GetScretKeyLastestForUser(GetIdUser);
                    if (lastesstUserExam.IdUser != null)
                    {
                        var findkey =  _lstExamDetailer.FirstOrDefault(c => c.SecretKey == txtValue);
                        if (DateTime.Now >= findkey.EndTime)
                        {
                            SweetAlertResult result2 = await Swal.FireAsync(new SweetAlertOptions
                                {
                                    Title = $"Thông Báo",
                                    Text = "Phòng thi này đã kết thúc bạn có muốn tới trang thông báo hay không ?",
                                    Icon = SweetAlertIcon.Warning,
                                    ShowCancelButton = true,
                                    ConfirmButtonText = "Đồng Ý",
                                    CancelButtonText = "Hủy"
                                });

                            if (!string.IsNullOrEmpty(result2.Value))
                            {
                                NavigationManager.NavigateTo($"onlineroomhandler/{lastesstUserExam.SecretKey}/{GetIdUser}", true);

                            }

                            else if (result2.Dismiss == DismissReason.Cancel)
                            {

                                await Swal.FireAsync(
                                     "Thông Báo",
                                     "Hủy điều hướng",
                                     SweetAlertIcon.Error
                                     );

                                return;
                            }
                        }









                        NavigationManager.NavigateTo($"onlineroomhandler/{lastesstUserExam.SecretKey}/{GetIdUser}", true);
                        
                    }

                }
                var getcompare = _lstExamDetailer.Find(c => c.SecretKey == txtValue);

                //check làm thủ tục trước 15 phút
                if ((getcompare.StartTime - DateTime.Now).TotalMinutes >= 15)
                {

                    await Swal.FireAsync(
                                "Thông Báo",
                                $"Bạn không thể checkin vào thời điểm này, phòng thi sẽ mở checkin vào {Convert.ToDateTime(getcompare.StartTime.AddMinutes(-15))} ",
                                SweetAlertIcon.Info
                                );
                    return;
                }
                else
                {
                    if (_lstUser.Any(c => c.IdUser == GetIdUser))
                    {
                        var lastesstUserExam = await _onlineExamRoomRepo.GetScretKeyLastestForUser(GetIdUser);

                        //check xem có đang trong quá trình thi nào không nếu có thì cảnh báo ngay

                        if (lastesstUserExam.StartTime <= DateTime.Now && lastesstUserExam.EndTime >= DateTime.Now)
                        {
                            SweetAlertResult result2 = await Swal.FireAsync(new SweetAlertOptions
                                {
                                    Title = $"Cảnh Báo !",
                                    Text = "Bạn đã checkin và quá trình thi môn đang được diễn ra, Nếu bạn muốn thi môn khác vui lòng bấm xác nhận xóa tiến trình thi môn hiện tại",
                                    Icon = SweetAlertIcon.Warning,
                                    ShowCancelButton = true,
                                    ConfirmButtonText = "Đồng Ý",
                                    CancelButtonText = "Hủy"
                                });

                            if (!string.IsNullOrEmpty(result2.Value))
                            {
                                var rester = await _onlineExamRoomRepo.DeleteOnlineExamRoom(lastesstUserExam.SecretKey, GetIdUser);
                                if (rester)
                                {

                                    await Swal.FireAsync(
                                      "Thông Báo",
                                      "Xóa Tiến Trình Thành Công Và Tiếp Tục Checkin",
                                      SweetAlertIcon.Success
                                      );
                                    current++;
                                    IsShowCurrent1 = true;
                                }
                                else
                                {
                                    await Swal.FireAsync(
                                     "Thông Báo",
                                     "Lỗi Xóa Tiến Trình Thất Bại",
                                     SweetAlertIcon.Error
                                     );
                                    return;
                                }

                            }

                            else if (result2.Dismiss == DismissReason.Cancel)
                            {

                                await Swal.FireAsync(
                                     "Thông Báo",
                                     " Xóa Tiến Trình Thất Bại",
                                     SweetAlertIcon.Error
                                     );
                                return;

                            }





                        }
                        else
                        {

                            await Swal.FireAsync(
                        "Thành Công",
                        "Successful",
                        SweetAlertIcon.Success
                        );
                            current++;
                            IsShowCurrent1 = true;
                        }
                    }
                    else
                    {
                        await Swal.FireAsync(
                    "Thành Công",
                    "Successful",
                    SweetAlertIcon.Success
                    );
                        current++;
                        IsShowCurrent1 = true;
                    }
                }
            }
            else
            {

                await Swal.FireAsync(
            "Thất Bại",
            "Không tìm thấy mã mà bạn vừa nhập",
            SweetAlertIcon.Error
            );



            }






        }
        else if (result.Dismiss == DismissReason.Cancel)
        {

            //ở đây xử lý khi hủy upload
            await Swal.FireAsync(
              "Hủy",
              "Đã tham gia",
              SweetAlertIcon.Error
              );
        }

    }
    bool _visible = false;
    bool _loading = false;

    private async void ShowModal()
    {

        await JSRuntime.InvokeAsync<object>("ready");
        IsShowInput = true;
        IsShowCotrol = false;
        IsShowTakin = true;
        StateHasChanged();
    }

    public async void Capture()
    {
        stringList.Clear();
      
        var stringgetter = await JSRuntime.InvokeAsync<string>("take_snapshot");

        byte[] imageData = Convert.FromBase64String(stringgetter.Split(',')[1]);

        //DrawingOptions alignCenter = new DrawingOptions()
        //    {
        //        TextOptions = new TextOptions()
        //        {
        //            VerticalAlignment = VerticalAlignment.Center,
        //            WrapTextWidth = 304, //Image is 320px wide. This will center with 8px margin on left and right
        //            HorizontalAlignment = SixLabors.Fonts.HorizontalAlignment.Center
        //        }
        //    };

        //using (var image = SixLabors.ImageSharp.Image.Load(imageData))
        //{
        //    image.Mutate(x => x
        //        .Flip(FlipMode.Horizontal) //To match mirrored webcam image
        //        .Fill(SixLabors.ImageSharp.Color.ParseHex("0008"), new RectangularPolygon(0, 220, 320, 20)) //Set footer bar for caption
        //        .DrawText(alignCenter, captionText, captionFont, SixLabors.ImageSharp.Color.White, new PointF(8, 230)) //center in footer bar)
        //    );
        //    frameUri = image.ToBase64String(JpegFormat.Instance);
        //}
        frameUri = "data:image/jpeg;base64," + Convert.ToBase64String(imageData);
        stringList.Add(frameUri);
        StateHasChanged();
    }

    private async Task HandleOk(MouseEventArgs e)
    {
        _loading = true;
        await Task.Delay(3000);
        _visible = false;
        _loading = false;
    }

    private void HandleCancel(MouseEventArgs e)
    {
        _visible = false;
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IMessageService _message { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ModalService _modalService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SweetAlertService Swal { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IMessageService message { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
    }
}
#pragma warning restore 1591
