#pragma checksum "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "6d2fbc223777b61f9b5ffb8627579e1fa13b7a2e"
// <auto-generated/>
#pragma warning disable 1591
namespace FPLSP.Pages.GiaoVienLop
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using MudBlazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using FPLSP.Components;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using Blazored.Typeahead;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using Blazored.Toast.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Data.Securities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Repositories.Interfaces;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Data.SeedWork;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Domain.Dtos;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Domain.Dtos.StudentUPDtos;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Domain.Entities.UserParts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Infrastructure.ViewModels.GiaoVienTaoLop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Infrastructure.ViewModels.StudentClassUPVm;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Infrastructure.ViewModels.StudentQuizUPVm;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Infrastructure.ViewModels.StudentsUPVm;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
using FPLSP.Server.Infrastructure.ViewModels.Subject;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
           [Authorize(Roles = "LecturerFPLSP")]

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Components.RouteAttribute("/Creat/{specializedIdNonDecrypt}/{lecuIdNonDecrypt}/{subjectIdNonDecrypt}")]
    public partial class CreatClassLeccu : global::Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "row pt-3");
            __builder.OpenElement(2, "nav");
            __builder.AddAttribute(3, "aria-label", "breadcrumb");
            __builder.OpenElement(4, "ol");
            __builder.AddAttribute(5, "class", "breadcrumb");
            __builder.OpenElement(6, "li");
            __builder.AddAttribute(7, "class", "breadcrumb-item");
            __builder.AddMarkupContent(8, "Chuyên ngành: ");
            __builder.OpenElement(9, "a");
            __builder.AddAttribute(10, "style", "color:blue;box-shadow: 0 1px");
            __builder.AddAttribute(11, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 20 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                                                    () => ResToSpec()

#line default
#line hidden
#nullable disable
            ));
#nullable restore
#line (20,121)-(20,224) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
__builder.AddContent(12, lstSpecAll.Where(c=>c.Id == Guid.Parse(specializedId)).Select(c=>c.SpecializationName).FirstOrDefault());

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(13, "\r\n        ");
            __builder.OpenElement(14, "li");
            __builder.AddAttribute(15, "class", "breadcrumb-item");
            __builder.AddMarkupContent(16, "Môn: ");
            __builder.OpenElement(17, "a");
            __builder.AddAttribute(18, "style", "color:blue;box-shadow: 0 1px");
            __builder.AddAttribute(19, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 21 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                                            () => Quaylai()

#line default
#line hidden
#nullable disable
            ));
#nullable restore
#line (21,112)-(21,207) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
__builder.AddContent(20, SubjectUPList.Where(c=>c.Id == Guid.Parse(subjectId)).Select(c=>c.SubjectName).FirstOrDefault());

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(21, "\r\n        ");
            __builder.AddMarkupContent(22, "<li class=\"breadcrumb-item active\" aria-current=\"page\">Thêm lớp học</li>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(23, "\r\n    ");
            __builder.AddMarkupContent(24, "<h3 class=\"text-center pt-2 pb-2\">Thông tin lớp học</h3>");
#nullable restore
#line 27 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
     if (ShowAuthError)
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(25, "div");
            __builder.AddAttribute(26, "class", "alert alert-danger");
            __builder.AddAttribute(27, "role", "alert");
#nullable restore
#line (30,14)-(30,19) 25 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
__builder.AddContent(28, Error);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 32 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.EditForm>(29);
            __builder.AddAttribute(30, "Model", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Object>(
#nullable restore
#line 33 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                     subjectClassVM

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(31, "OnValidSubmit", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::Microsoft.AspNetCore.Components.Forms.EditContext>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 33 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                    Create

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(32, "class", "card card-body bg-light");
            __builder.AddAttribute(33, "ChildContent", (global::Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(34);
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(35, "\r\n        ");
                __builder2.OpenElement(36, "div");
                __builder2.AddAttribute(37, "class", "row");
                __builder2.OpenElement(38, "div");
                __builder2.AddAttribute(39, "class", "form-group pt-2 col-md-12");
                __builder2.AddMarkupContent(40, "<label for=\"exampleFormControlInput1\" class=\"col-md-2 col-form-label\">Tên Lớp:</label>\r\n                ");
                __builder2.OpenElement(41, "div");
                __builder2.AddAttribute(42, "class", "col-md-12");
                __builder2.OpenElement(43, "input");
                __builder2.AddAttribute(44, "rows", "2");
                __builder2.AddAttribute(45, "cols", "50");
                __builder2.AddAttribute(46, "class", "form-control");
                __builder2.AddAttribute(47, "autocomplete", "off");
                __builder2.AddAttribute(48, "id", "exampleFormControlInput1");
                __builder2.AddAttribute(49, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 42 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                         ((ChangeEventArgs e)=>ChangedClassName(e))

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(50, "list", "txt");
                __builder2.AddAttribute(51, "placeholder", "Vui lòng nhập tên lớp");
                __builder2.AddAttribute(52, "value", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 39 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                           subjectClassVM.ClassroomName

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(53, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => subjectClassVM.ClassroomName = __value, subjectClassVM.ClassroomName));
                __builder2.SetUpdatesAttributeName("value");
                __builder2.CloseElement();
                __builder2.AddMarkupContent(54, "\r\n                    ");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateValidationMessage_0(__builder2, 55, 56, 
#nullable restore
#line 45 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                              () => subjectClassVM.ClassroomName

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(57, "\r\n            ");
                __builder2.OpenElement(58, "div");
                __builder2.AddAttribute(59, "class", "row d-flex justify-content-center");
                __builder2.OpenElement(60, "div");
                __builder2.AddAttribute(61, "class", "row d-flex justify-content-center");
                __builder2.OpenElement(62, "datalist");
                __builder2.AddAttribute(63, "id", "txt");
#nullable restore
#line 51 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
             if (_lsclassUps.Count != 0)
            {
                

#line default
#line hidden
#nullable disable
#nullable restore
#line 53 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                 foreach (var x in _lsclassUps.GroupBy(c => c.ClassroomName))
                {
                    

#line default
#line hidden
#nullable disable
#nullable restore
#line 55 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                     foreach (var z in x)
                    {

#line default
#line hidden
#nullable disable
                __builder2.OpenElement(64, "option");
                __builder2.AddAttribute(65, "value", 
#nullable restore
#line 57 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                        z.ClassroomName

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
#nullable restore
#line 58 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                        break;
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 59 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                     
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 60 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                 
            }

#line default
#line hidden
#nullable disable
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(66, "\r\n        ");
                __builder2.OpenElement(67, "div");
                __builder2.AddAttribute(68, "class", "row");
                __builder2.OpenElement(69, "div");
                __builder2.AddAttribute(70, "class", "form-group pt-2 col-md-6");
                __builder2.AddMarkupContent(71, "<label for=\"name\" class=\"col-md-2 col-form-label\">Tòa nhà:</label>\r\n                ");
                __builder2.OpenElement(72, "div");
                __builder2.AddAttribute(73, "class", "col-md-12");
                __builder2.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputText>(74);
                __builder2.AddAttribute(75, "class", "form-control");
                __builder2.AddAttribute(76, "Value", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.String>(
#nullable restore
#line 70 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                 subjectClassVM.Building

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(77, "ValueChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.String>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.String>(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => subjectClassVM.Building = __value, subjectClassVM.Building))));
                __builder2.AddAttribute(78, "ValueExpression", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Linq.Expressions.Expression<System.Func<System.String>>>(() => subjectClassVM.Building));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(79, "\r\n                    ");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateValidationMessage_1(__builder2, 80, 81, 
#nullable restore
#line 71 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                              () => subjectClassVM.Building

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(82, "\r\n            ");
                __builder2.OpenElement(83, "div");
                __builder2.AddAttribute(84, "class", "form-group pt-2 col-md-6");
                __builder2.AddMarkupContent(85, "<label for=\"name\" class=\"col-md-4 col-form-label\">Số lượng sinh viên:</label>\r\n                ");
                __builder2.OpenElement(86, "div");
                __builder2.AddAttribute(87, "class", "col-md-12");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateInputNumber_2(__builder2, 88, 89, "form-control", 90, 
#nullable restore
#line 77 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                   subjectClassVM.StudentAmount

#line default
#line hidden
#nullable disable
                , 91, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => subjectClassVM.StudentAmount = __value, subjectClassVM.StudentAmount)), 92, () => subjectClassVM.StudentAmount);
                __builder2.AddMarkupContent(93, "\r\n                    ");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateValidationMessage_3(__builder2, 94, 95, 
#nullable restore
#line 78 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                              () => subjectClassVM.StudentAmount

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(96, "\r\n        ");
                __builder2.OpenElement(97, "div");
                __builder2.AddAttribute(98, "class", "row");
                __builder2.OpenElement(99, "div");
                __builder2.AddAttribute(100, "class", "form-group pt-2 col-md-6");
                __builder2.AddMarkupContent(101, "<label for=\"name\" class=\"col-md-3 col-form-label\">Ngày bắt đầu: </label>\r\n                ");
                __builder2.OpenElement(102, "div");
                __builder2.AddAttribute(103, "class", "col-md-12");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateInputDate_4(__builder2, 104, 105, "name", 106, "form-control", 107, 
#nullable restore
#line 86 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                           subjectClassVM.DateStarted

#line default
#line hidden
#nullable disable
                , 108, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => subjectClassVM.DateStarted = __value, subjectClassVM.DateStarted)), 109, () => subjectClassVM.DateStarted);
                __builder2.AddMarkupContent(110, "\r\n                    ");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateValidationMessage_5(__builder2, 111, 112, 
#nullable restore
#line 87 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                              () => subjectClassVM.DateStarted

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(113, "\r\n            ");
                __builder2.OpenElement(114, "div");
                __builder2.AddAttribute(115, "class", "form-group pt-2 col-md-6");
                __builder2.AddMarkupContent(116, "<label for=\"name\" class=\"col-md-3 col-form-label\">Ngày kết thúc: </label>\r\n                ");
                __builder2.OpenElement(117, "div");
                __builder2.AddAttribute(118, "class", "col-md-12");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateInputDate_6(__builder2, 119, 120, "name", 121, "form-control", 122, 
#nullable restore
#line 93 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                           subjectClassVM.EndDate

#line default
#line hidden
#nullable disable
                , 123, global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create(this, global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => subjectClassVM.EndDate = __value, subjectClassVM.EndDate)), 124, () => subjectClassVM.EndDate);
                __builder2.AddMarkupContent(125, "\r\n                    ");
                global::__Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu.TypeInference.CreateValidationMessage_7(__builder2, 126, 127, 
#nullable restore
#line 94 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                              () => subjectClassVM.EndDate

#line default
#line hidden
#nullable disable
                );
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(128, "\r\n        ");
                __builder2.OpenElement(129, "div");
                __builder2.AddAttribute(130, "class", "row pt-2");
                __builder2.AddMarkupContent(131, "<div class=\"col-md-6\"></div>\r\n            ");
                __builder2.OpenElement(132, "div");
                __builder2.AddAttribute(133, "class", "col-md-6");
                __builder2.OpenElement(134, "div");
                __builder2.AddAttribute(135, "class", "d-flex flex-row-reverse");
                __builder2.AddMarkupContent(136, "<div class=\"p-2\"><button type=\"submit\" class=\"btn btn-success\">Tạo mới</button></div>\r\n                     \r\n                      ");
                __builder2.OpenElement(137, "div");
                __builder2.AddAttribute(138, "class", "p-2");
                __builder2.OpenElement(139, "a");
                __builder2.AddAttribute(140, "class", "btn btn-outline-primary");
                __builder2.AddAttribute(141, "title", "Thêm sinh viên bằng email");
                __builder2.AddAttribute(142, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 109 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                                                          ()=>OnText(testAre)

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddMarkupContent(143, "Thêm bằng Email");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.AddMarkupContent(144, "\r\n                      \r\n                      ");
                __builder2.OpenElement(145, "div");
                __builder2.AddAttribute(146, "class", "p-2");
                __builder2.OpenElement(147, "a");
                __builder2.AddAttribute(148, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 113 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                        ()=>Quaylai()

#line default
#line hidden
#nullable disable
                ));
                __builder2.AddAttribute(149, "class", "btn btn-danger");
                __builder2.AddMarkupContent(150, "Quay Lại");
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
                __builder2.CloseElement();
            }
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.AddMarkupContent(151, "\r\n\r\n");
            __builder.AddMarkupContent(152, "<div class=\"row\"><div class><h3 class=\"text-center pb-2\">Danh sách sinh viên</h3></div></div>");
#nullable restore
#line 133 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
 if (_lststudentUpDtosALL.Count() > 0 )
{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(153, "div");
            __builder.AddAttribute(154, "class", "row");
            __builder.OpenElement(155, "div");
            __builder.AddAttribute(156, "class", "col-md-12");
            __builder.OpenComponent<global::FPLSP.Pages.StudentUPPages.StudentUPSearch>(157);
            __builder.AddAttribute(158, "OnSearch", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::FPLSP.Server.Infrastructure.ViewModels.StudentsUPVm.StudentUPListSearchVm>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::FPLSP.Server.Infrastructure.ViewModels.StudentsUPVm.StudentUPListSearchVm>(this, 
#nullable restore
#line 137 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                  SearchStudentUP

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.OpenElement(159, "div");
            __builder.AddAttribute(160, "class", "mt-3");
            __builder.OpenElement(161, "table");
            __builder.AddAttribute(162, "class", "table table-hover table-bordered js-copytextarea ");
            __builder.AddAttribute(163, "cellpadding", "0");
            __builder.AddAttribute(164, "cellspacing", "0");
            __builder.AddAttribute(165, "border", "0");
            __builder.AddAttribute(166, "id", "sampleTable");
            __builder.OpenElement(167, "thead");
            __builder.AddAttribute(168, "class", "text-center");
            __builder.OpenElement(169, "tr");
            __builder.OpenElement(170, "th");
            __builder.AddAttribute(171, "width", "5%");
            __builder.OpenElement(172, "input");
            __builder.AddAttribute(173, "type", "checkbox");
            __builder.AddAttribute(174, "class", "form-check-input");
            __builder.AddAttribute(175, "onchange", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.ChangeEventArgs>(this, 
#nullable restore
#line 149 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                     EventArgs => {CheckAllExpense( EventArgs.Value);} 

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(176, "id", "flexCheckDefault");
            __builder.AddAttribute(177, "checked", global::Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 149 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                   Check

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(178, "oninput", global::Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => Check = __value, Check));
            __builder.SetUpdatesAttributeName("checked");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(179, "\r\n                    ");
            __builder.AddMarkupContent(180, "<th>Mã Sinh Viên</th>\r\n                    ");
            __builder.AddMarkupContent(181, "<th>Tên Sinh Viên</th>\r\n                    ");
            __builder.AddMarkupContent(182, "<th>Ảnh</th>\r\n                    ");
            __builder.AddMarkupContent(183, "<th>Email</th>");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(184, "\r\n            ");
            __builder.OpenElement(185, "tbody");
            __builder.AddAttribute(186, "class", "text-center");
#nullable restore
#line 159 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                 foreach (var item in _lststudentUpDtosALL)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(187, "tr");
            __builder.OpenElement(188, "td");
            __builder.AddAttribute(189, "width", "10");
            __builder.AddAttribute(190, "class", "text-center");
            __builder.OpenElement(191, "input");
            __builder.AddAttribute(192, "type", "checkbox");
            __builder.AddAttribute(193, "class", "form-check-input");
            __builder.AddAttribute(194, "checked", 
#nullable restore
#line 163 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                                     item.IsChecked

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(195, "onclick", global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 164 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                     () => CheckManual(item.Id,item.IsChecked)

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(196, "\r\n                        ");
            __builder.OpenElement(197, "td");
#nullable restore
#line (166,30)-(166,46) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
__builder.AddContent(198, item.StudentCode);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(199, "\r\n                        ");
            __builder.OpenElement(200, "td");
#nullable restore
#line (167,30)-(167,46) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
__builder.AddContent(201, item.StudentName);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(202, "\r\n                        ");
            __builder.OpenElement(203, "td");
            __builder.OpenElement(204, "img");
            __builder.AddAttribute(205, "src", 
#nullable restore
#line 168 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                       item.ImageUrl

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(206, "alt", "product image");
            __builder.AddAttribute(207, "onerror", "this.src=\'./css/images/Others/logoFPT.png\'");
            __builder.AddAttribute(208, "height", "190");
            __builder.AddAttribute(209, "width", "170");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(210, "\r\n                        ");
            __builder.OpenElement(211, "td");
#nullable restore
#line (169,30)-(169,40) 26 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
__builder.AddContent(212, item.Email);

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 171 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(213, "\r\n        ");
            __builder.OpenElement(214, "div");
            __builder.AddAttribute(215, "class", "footer text-muted");
            __builder.OpenElement(216, "div");
            __builder.AddAttribute(217, "class", "row mt-3");
            __builder.OpenComponent<global::FPLSP.Components.Pagingation>(218);
            __builder.AddAttribute(219, "MetaData", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::FPLSP.Server.Data.SeedWork.MetaData>(
#nullable restore
#line 176 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                               MetaData

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(220, "Spread", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::System.Int32>(
#nullable restore
#line 176 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                 2

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(221, "SelectedPage", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.Int32>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.Int32>(this, 
#nullable restore
#line 176 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                                                  SelectedPage

#line default
#line hidden
#nullable disable
            )));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(222, "\r\n    ");
            __builder.OpenComponent<global::FPLSP.Pages.GiaoVienLop.AddsutdentInClassTextAre>(223);
            __builder.AddAttribute(224, "ConfirmationMessage", "Xác nhận thêm");
            __builder.AddAttribute(225, "ConfirmationTitle", "Danh sách email sinh viên");
            __builder.AddAttribute(226, "Confirmation", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.String>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.String>(this, 
#nullable restore
#line 183 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                        pushTextAre

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(227, "ConfirmationChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.Boolean>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.Boolean>(this, 
#nullable restore
#line 184 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                               OnConfirmationUpdate

#line default
#line hidden
#nullable disable
            )));
            __builder.AddComponentReferenceCapture(228, (__value) => {
#nullable restore
#line 182 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                addsutdentInClassText = (FPLSP.Pages.GiaoVienLop.AddsutdentInClassTextAre)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
#nullable restore
#line 187 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
}
else
{
   

#line default
#line hidden
#nullable disable
#nullable restore
#line 190 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
    if (encounter != 14)
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::FPLSP.Components.LoadingIndicator>(229);
            __builder.CloseComponent();
#nullable restore
#line 193 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(230, "<h5>Danh sách sinh viên trống</h5>");
#nullable restore
#line 197 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 197 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                     
}

#line default
#line hidden
#nullable disable
            __builder.OpenComponent<global::FPLSP.Components.PopUpConfirm>(231);
            __builder.AddAttribute(232, "ConfirmationMessage", "Bạn Có Chắc Muốn Sử Dụng Thuộc Tính Của Lớp Đang tồn tại không ?");
            __builder.AddAttribute(233, "ConfirmationTitle", "Xác nhận của bạn ?");
            __builder.AddAttribute(234, "ConfirmationChanged", global::Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<global::Microsoft.AspNetCore.Components.EventCallback<global::System.Boolean>>(global::Microsoft.AspNetCore.Components.EventCallback.Factory.Create<global::System.Boolean>(this, 
#nullable restore
#line 202 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                                       OnConfirmationDelete

#line default
#line hidden
#nullable disable
            )));
            __builder.AddComponentReferenceCapture(235, (__value) => {
#nullable restore
#line 201 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
                        DeleConfirmation = (FPLSP.Components.PopUpConfirm)__value;

#line default
#line hidden
#nullable disable
            }
            );
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 206 "C:\Users\Nguyen Bui\source\repos\FPLSP3\FPLSP\Pages\GiaoVienLop\CreatClassLeccu.razor"
      
    [Parameter]
    public string specializedIdNonDecrypt { get; set; }
    [Parameter]
    public string lecuIdNonDecrypt { get; set; }
    [Parameter]
    public string subjectIdNonDecrypt { get; set; }


    public string specializedId  = "";

    public string lecuId = "";

    public string subjectId = "";
    [Parameter]
    public string Error { get; set; }

    public string bindtext;
    [Inject]
    public IStudentUPRepo _studentUPRepo { get; set; }

    private List<ClassUp> _lsclassUps;
    private ClassUp CP = new ClassUp();
    protected PopUpConfirm DeleConfirmation { set; get; }

    [Inject]
    public IStudentClassUPRepo _reportStudentClassUPRepo { get; set; }
    [Inject]
    public IStudentQuizUPRepo _studentQuizUPRepo { get; set; }
    [Inject]
    public ICopySubjectInClassRepo ICopySubjectInClassRepo { get; set; }

    [Inject]
    public NavigationManager Navigation { get; set; }
    [Inject]
    public IClassSubjectApiClient _iClassSubjectApiClient { get; set; }
    [Inject] private IToastService _toastService { get; set; }
     [Inject]
    public ILecturersCPRepo _lecturersCPRepo { get; set; }
    private SubjectClassVM subjectClassVM { get; set; } = new SubjectClassVM();
    AddsutdentInClassTextAre addsutdentInClassText { get; set; }
    public List<StudentUpDto> _lststudentUpDtosALL { get; set; } = new List<StudentUpDto>();

    public List<StudentUpDto> _liststudentClassJoin { get; set; } = new List<StudentUpDto>();
    public List<StudentClassUP> _studentClassUPDtos { get; set; } = new List<StudentClassUP>();
    public List<SubjectClassUP> _lstsubjectClassUPs { get; set; } = new List<SubjectClassUP>();
    public List<ClassUp> _lstClassUps { get; set; } = new List<ClassUp>();
    public List<StudentUpDto> _lstStudentUpDtosExist { get; set; } = new List<StudentUpDto>();
    public List<StudentUpDto> _lstStudentUpDtosShow { get; set; } = new List<StudentUpDto>();
    public List<Guid?> lstGuidIdStudent { get; set; } = new List<Guid?>();
    private List<ExcelErrors> _lstErrr = new List<ExcelErrors>();
    public List<SubjectClassUP> _lstSubjectClassUPsAll { get; set; } = new List<SubjectClassUP>();
    public List<StudentUpDto> _lstStudentUpCheck { get; set; } = new List<StudentUpDto>();


    public List<StudentUpDto> _lststudentUpDtosExcel { get; set; } = new List<StudentUpDto>();

    public ListIdQuiz _listIdQuizzes = new ListIdQuiz();
    private StudentUPListSearchVm studentUPListSearchVm = new StudentUPListSearchVm();
    private StudentClassUPCreateVm _studentClassUPCreateVm = new StudentClassUPCreateVm();
    private StudentQuizCreateUPVM _studentQuizCreateUPVM = new StudentQuizCreateUPVM();
    private string JoinCodeSubjectClass = string.Empty;
    private Random random = new Random();
    public List<StudentClassUP> _lstStudentClassUPDtos { get; set; } = new List<StudentClassUP>();
    private int encounter;
    public bool ShowAuthError { get; set; }
    IBrowserFile selectedFiles;
    //Guid IDClass;
    public MetaData MetaData { get; set; } = new MetaData();
    private bool Check = false;

    public List<SpecializedDto> lstSpecAll { get; set; } = new List<SpecializedDto>();
    [Inject]
    public ISpecializedCPRepo _iSpecializedClient { get; set; }

    [Inject] public ISubjectUPRepo _subjectUPRepo { get; set; }
    public List<SubjectDto> SubjectUPList { get; set; } = new List<SubjectDto>();
    private SubjectListSearch SubjectListSearch = new SubjectListSearch();
    public string testAre { get; set; }
    [Inject]
    public CryptoServices _cryptoServices { get; set; }

    protected async override Task OnInitializedAsync()
    {
        lecuId = _cryptoServices.Decrypt(lecuIdNonDecrypt.Replace("I0H", "/"));
        subjectId = _cryptoServices.Decrypt(subjectIdNonDecrypt.Replace("I0H", "/"));
        specializedId = _cryptoServices.Decrypt(specializedIdNonDecrypt.Replace("I0H", "/"));


        _lsclassUps = await _iClassSubjectApiClient.GetAllClass();
        _lstStudentUpCheck = await _studentUPRepo.GetAllStudentDtosAsync();
        await GetTasks();
    }
    private async Task OnText(string textAre1)
    {

        addsutdentInClassText.show();
        testAre = textAre1;
    }
    private async Task OnConfirmationUpdate(bool submitConfirmed)
    {
        if (submitConfirmed)
        {
            _lststudentUpDtosExcel.Clear();
             var LectureById = await _lecturersCPRepo.GetLecturerListById(Guid.Parse(lecuId));
            var idTrain = LectureById.TrainingFacilitiesId.Value;
            _lststudentUpDtosExcel = await _reportStudentClassUPRepo.GetListSTTestAre(testAre,idTrain);
            _toastService.ShowSuccess($"Thêm danh sách tạm thành công {_lststudentUpDtosExcel.Count()} sinh viên");
        }
        else
        {
            _toastService.ShowError($"Thêm danh sách thất bại");
        }

        await OnInitializedAsync();
    }
    private async Task pushTextAre(string text)
    {
        testAre = text;
    }
    private async Task GetTasks()
    {
        try
        {
            for (var i = 0; i < 15; i++)
            {
                encounter = i;
            }
            var SubjectUPListpagingResponse1 = await _subjectUPRepo.GetSubjects(Guid.Parse(specializedId), SubjectListSearch);
            SubjectUPList = SubjectUPListpagingResponse1.Items;
            lstSpecAll = await _iSpecializedClient.GetAll();
            _studentClassUPDtos = await _reportStudentClassUPRepo.GetAllStudentUPAsync();
            _lststudentUpDtosALL = await _studentUPRepo.GetAllStudentDtosAsync();
            var pagingResponse = await _studentUPRepo.GetStudentUPList(studentUPListSearchVm);
            _lstStudentClassUPDtos = await _reportStudentClassUPRepo.GetAllStudentUPAsync();
            //var pagingResponse = await _studentUPRepo.GetStudentUPList(studentUPListSearchVm);
            //_lststudentUpDtosALL = pagingResponse.Items;

            var items = await _studentUPRepo.GetAllStudentDtosAsync();
            _lstSubjectClassUPsAll = await _iClassSubjectApiClient.GetAllSubjectClass();

            _listIdQuizzes = await _iClassSubjectApiClient.GetListIDQuiz(Guid.Parse(subjectId));

            _lstClassUps = await _iClassSubjectApiClient.GetlstClassUP(Guid.Parse(subjectId));

            foreach (var ClassUP in _lstClassUps)
            {
                var lsjoicode = _lstSubjectClassUPsAll.Where(c => c.SubjectId == Guid.Parse(subjectId)).Select(c => c.JoinCode).ToList();
                var lstGuidIdStudent = _lstStudentClassUPDtos.Where(c => lsjoicode.Contains(c.JoinCodeAsign)).Select(c => c.StudentId).ToList();

                var Lststudents = items.Where(c => lstGuidIdStudent.Contains(c.Id)).ToList();


                foreach (var student in Lststudents)
                {
                    _lstStudentUpDtosExist.Add(student);
                }
            }

            _lststudentUpDtosALL = items;
            //List<StudentUpDto> a = new List<StudentUpDto>();


            //var b = a .Count();
            for (int i = 0; i < _lststudentUpDtosALL.Count(); i++)
            {
                foreach (var studentExist in _lstStudentUpDtosExist)
                {
                    if (_lststudentUpDtosALL.Any(c => c.Id == studentExist.Id))

                    {
                        _lststudentUpDtosALL.Remove(studentExist);
                    }

                }
            }
            foreach (var item in _lststudentUpDtosALL.Where(c=>c.StudentName == null).ToList())
            {
                _lststudentUpDtosALL.Remove(item);
            }
            if (string.IsNullOrEmpty(studentUPListSearchVm.Status) == false)
            {
                _lststudentUpDtosALL = _lststudentUpDtosALL.Where(x => x.Status == Convert.ToInt32(studentUPListSearchVm.Status)).ToList();
            }
            if (studentUPListSearchVm.NameStudent != null)
            {
                _lststudentUpDtosALL = _lststudentUpDtosALL.Where(x => x.StudentName.ToLower().Contains(studentUPListSearchVm.NameStudent.ToLower()) || x.StudentCode.ToLower().Contains(studentUPListSearchVm.NameStudent.ToLower())).ToList();
            }
            var data = _lststudentUpDtosALL.Skip((studentUPListSearchVm.PageNumber - 1) * studentUPListSearchVm.PageSize).Take(studentUPListSearchVm.PageSize).ToList();
            var lstpage = new PageList<StudentUpDto>(data,
                _lststudentUpDtosALL.Count(),
                studentUPListSearchVm.PageNumber,
                studentUPListSearchVm.PageSize);
            _lststudentUpDtosALL = lstpage.Items;
            MetaData = lstpage.MetaData;
            //_liststudentClassJoin = (from studentClass in _studentClassUPDtos
            //                         join student in _lststudentUpDtosALL on studentClass.StudentId equals student.Id
            //                         where studentClass.ClassId == IDClass
            //                         select student).ToList();
            if (_lstStudentUpCheck.Count() > 0)
            {
                foreach (var item in _lststudentUpDtosALL)
                {
                    if (_lstStudentUpCheck.Any(c => c.Id == item.Id))
                    {

                        var a = _lstStudentUpCheck.FirstOrDefault(c => c.Id == item.Id);
                        item.IsChecked = a.IsChecked;
                    }
                }
            }

        }
        catch (Exception ex)
        {
            Error = ex.Message;
        }

    }
    private async Task SelectedPage(int page)
    {
        foreach (var item in _lststudentUpDtosALL)
        {
            var a = _lstStudentUpCheck.FirstOrDefault(c => c.Id == item.Id);
            a.IsChecked = item.IsChecked;
        }
        studentUPListSearchVm.PageNumber = page;
        Check = false;
        await GetTasks();
    }
    private async Task Create()
    {
        ShowAuthError = false;
        var idclaass = _lsclassUps.Where(c => c.ClassroomName == subjectClassVM.ClassroomName && c.Building == subjectClassVM.Building).Select(c => c.Id).FirstOrDefault();
        if (idclaass == Guid.Empty)
        {
            subjectClassVM.ClassId = Guid.NewGuid();
        }else{
            subjectClassVM.ClassId = idclaass;
        }

        subjectClassVM.HomeroomLecturer = Guid.Parse(lecuId);
        subjectClassVM.SpecializedOfClass = Guid.Parse(specializedId);
        subjectClassVM.SubjectId = Guid.Parse(subjectId);
        subjectClassVM.ClassroomName = subjectClassVM.ClassroomName.ToUpper();
        var copyCPtoUP = await ICopySubjectInClassRepo.Copy( Guid.Parse(subjectId));
        var result = await _iClassSubjectApiClient.Create(subjectClassVM);

        if (result != 1)
        {
            _toastService.ShowError("Tên lớp đã tồn tại không thể tạo mới hoặc trong môn học đã tồn tại lớp");
            Navigation.NavigateTo($"/Creat/{specializedIdNonDecrypt}/{lecuIdNonDecrypt}/{subjectIdNonDecrypt}");
        }
        //else
        //{

        //}

        //if (result != 1)
        //{
        //    Error = "Lỗi";
        //    var url = Path.Combine($"/Creat/{specializedId}/{lecuId}/{subjectId}");
        //    ShowAuthError = true;
        //    Navigation.NavigateTo(url);
        //}
        else
        {
            foreach (var item in _lststudentUpDtosALL)
            {
                var a = _lstStudentUpCheck.FirstOrDefault(c => c.Id == item.Id);
                a.IsChecked = item.IsChecked;
            }
            int countDouble = 0;
            //_lststudentUpDtosExcel = await _reportStudentClassUPRepo.LoadingBigData(selectedFiles);

            //_lstErrr = await _reportStudentClassUPRepo.GetListErr();
            _lstSubjectClassUPsAll = await _iClassSubjectApiClient.GetAllSubjectClass();
            JoinCodeSubjectClass = _lstSubjectClassUPsAll.Where(c => c.ClassId == subjectClassVM.ClassId && c.SubjectId == Guid.Parse(subjectId)).Select(c => c.JoinCode).FirstOrDefault();
            var AllStudenInClass = await _reportStudentClassUPRepo.GetAllStudentUPAsync();
            var countStudentInClass = AllStudenInClass.Where(c => c.JoinCodeAsign == JoinCodeSubjectClass).ToList().Count();
            var subjecclassUPls = await _iClassSubjectApiClient.GetAllSubjectClass();
            var subjecclss = subjecclassUPls.Where(c => c.JoinCode == JoinCodeSubjectClass).FirstOrDefault();
            if (_lstStudentUpCheck.Where(c => c.IsChecked == true).ToList().Count() + countStudentInClass > subjecclss.StudentAmount)
            {
                _toastService.ShowError("Số lượng sinh viên hiện tại là:" + countStudentInClass + "Thêm " + _lstStudentUpCheck.Where(c => c.IsChecked == true).ToList().Count() + "sinh viên " + "đã vượt số lượng hạn mức là:" + subjecclss.StudentAmount);
                return;
            }
            if (_lststudentUpDtosExcel != null)
            {
                if (_lststudentUpDtosALL.Where(c => c.IsChecked == true).ToList().Count() + _lststudentUpDtosExcel.Count() + countStudentInClass > subjecclss.StudentAmount)
                {
                    _toastService.ShowError("Số lượng sinh viên hiện tại là:" + countStudentInClass + "Thêm " + _lstStudentUpCheck.Where(c => c.IsChecked == true).ToList().Count() + "sinh viên và bằng excel" + _lststudentUpDtosExcel.Count() + "đã vượt số lượng hạn mức là:" + subjecclss.StudentAmount);
                    return;
                }
            }

            if (_lstStudentUpCheck.Where(c => c.IsChecked == true).ToList().Count() > 0)
            {
                foreach (var x in _lstStudentUpCheck.Where(c => c.IsChecked == true).ToList())
                {
                    _studentClassUPDtos = await _reportStudentClassUPRepo.GetAllStudentUPAsync();
                    if (_studentClassUPDtos.Any(c => c.JoinCodeAsign == JoinCodeSubjectClass && c.StudentId == x.Id))
                    {
                        countDouble++;
                        continue;
                    }
                    //var AllStudenInClass =await _reportStudentClassUPRepo.GetAllStudentUPAsync();
                    //var countStudentInClass = AllStudenInClass.Where(c => c.ClassId == IDClass).ToList().Count();
                    //var classUP =await _iClassSubjectApiClient.GetClassUPByIdClass(IDClass);
                    //if (countStudentInClass >= classUP.StudentAmount)
                    //{
                    //    continue;
                    //}
                    _studentClassUPCreateVm = new StudentClassUPCreateVm()
                        {
                            ClassId = subjectClassVM.ClassId,
                            JoinCodeAsign = JoinCodeSubjectClass,
                            StatusOfStudent = 1,
                            Status = 0,
                            StudentId = x.Id
                        };
                    _reportStudentClassUPRepo.CreateStudentClassUP(_studentClassUPCreateVm);
                    //foreach (var item in _listIdQuizzes.idquiz)
                    //{
                    //    _studentQuizCreateUPVM = new StudentQuizCreateUPVM()
                    //        {
                    //            CounterTurn = 0,
                    //            QuizId = item,
                    //            StudentId = x.Id,
                    //            ScoreQuizOfStudent = 0,
                    //            Status = 0
                    //        };
                    //    _studentQuizUPRepo.Create(_studentQuizCreateUPVM);
                    //}
                }
            }

                if (_lststudentUpDtosExcel != null)
                {
                    foreach (var x in _lststudentUpDtosExcel)
                    {
                        foreach (var studentUpDtosALL in _lstStudentUpCheck.Where(c => c.IsChecked == true).ToList())
                        {
                            if (x.Email == studentUpDtosALL.Email)
                            {
                                countDouble++;
                                continue;
                            }
                        }
                        _studentClassUPDtos = await _reportStudentClassUPRepo.GetAllStudentUPAsync();
                    if (_studentClassUPDtos.Any(c => c.ClassId == subjectClassVM.ClassId && c.StudentId == x.Id))
                        {
                            continue;
                        }

                        //_studentClassUPDtos = await _reportStudentClassUPRepo.GetAllStudentUPAsync();
                        //if (_studentClassUPDtos.Any(c => c.ClassId == IDClass && c.StudentId == x.Id)) continue;
                //        var AllStudenInClass =await _reportStudentClassUPRepo.GetAllStudentUPAsync();
                //var countStudentInClass = AllStudenInClass.Where(c => c.ClassId == IDClass).ToList().Count();
                //var classUP =await _iClassSubjectApiClient.GetClassUPByIdClass(IDClass);
                //if (countStudentInClass >= classUP.StudentAmount)
                //{
                //    continue;
                //}
                        _studentClassUPCreateVm = new StudentClassUPCreateVm()
                        {
                            ClassId = subjectClassVM.ClassId,
                            JoinCodeAsign = JoinCodeSubjectClass,
                            StatusOfStudent = 1,
                            Status = 0,
                            StudentId = x.Id
                        };
                        _reportStudentClassUPRepo.CreateStudentClassUP(_studentClassUPCreateVm);
                        //foreach (var item in _listIdQuizzes.idquiz)
                        //{
                        //    _studentQuizCreateUPVM = new StudentQuizCreateUPVM()
                        //    {
                        //        CounterTurn = 0,
                        //        QuizId = item,
                        //        StudentId = x.Id,
                        //        ScoreQuizOfStudent = 0,
                        //        Status = 0
                        //    };
                        //    _studentQuizUPRepo.Create(_studentQuizCreateUPVM);
                        //}


                    }
                }

              
                //var url = Path.Combine($"/Giaovien/{specializedId}/{lecuId}/{subjectId}");
                //Navigation.NavigateTo(url);
                 int count = _lstStudentUpCheck.Where(c => c.IsChecked == true).ToList().Count() - countDouble;
            if (_lststudentUpDtosExcel.Count() > 0)
            {
                count += _lststudentUpDtosExcel.Count();
            }
            _toastService.ShowSuccess($"Thêm thành công {count} vào lớp {subjectClassVM.ClassroomName} và có {countDouble} sinh viên trùng");

                Navigation.NavigateTo($"/Giaovien/{specializedIdNonDecrypt}/{lecuIdNonDecrypt}/{subjectIdNonDecrypt}");
            }
       }
        private async Task ResToSpec()
    {
        var url = Path.Combine($"/LectuterSpecializedSubjectls/{lecuIdNonDecrypt}/{specializedIdNonDecrypt}");
        Navigation.NavigateTo(url);
    }
        private async void OnFileSelected(InputFileChangeEventArgs e)
        {
            _lststudentUpDtosExcel.Clear();
            selectedFiles = e.File;
            this.StateHasChanged();
        }
        public string RandomString(int length)
        {
            const string chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
            return new string(Enumerable.Repeat(chars, length)
                .Select(s => s[random.Next(s.Length)]).ToArray());
        }
        //private void CreateAll()
        //{
        //    foreach (var x in _lststudentUpDtosALL.Where(c => c.IsChecked == true).ToList())
        //    {
        //        if (_studentClassUPDtos.Any(c => c.ClassId == IDClass && c.StudentId == x.Id)) continue;
        //        _reportStudentClassUPRepo.CreateStudentClassUP(new StudentClassUPCreateVm()
        //        {
        //            ClassId = IDClass,
        //            JoinCodeAsign =JoinCodeSubjectClass,
        //            StatusOfStudent = 0,
        //            Status = 0,
        //            StudentId = x.Id
        //        });
        //    }

        //}
        //private async void AddStudenClass(ClassRoomDto classRoomDto)
        //{
        //    IDClass = classRoomDto.Id;
        //    CreateAll();

        //}

        void CheckAllExpense(object checkValue)
        {
            if (Convert.ToBoolean(checkValue) == false)
            {
                _lststudentUpDtosALL.ToList().ForEach(e => e.IsChecked = false);
            }
            else
            {
                _lststudentUpDtosALL.ToList().ForEach(e => e.IsChecked = true);
            }
        }
        void CheckManual(Guid st, bool check)
        {
            if (check == true)
            {
                foreach (var x in _lststudentUpDtosALL.Where(c => c.Id == st))
                {
                    x.IsChecked = false;
                }
            }
            if (check == false)
            {
                foreach (var x in _lststudentUpDtosALL.Where(c => c.Id == st))
                {
                    x.IsChecked = true;
                }
            }
        }
        private async Task Quaylai()
        {
            var url = Path.Combine($"/Giaovien/{specializedIdNonDecrypt}/{lecuIdNonDecrypt}/{subjectIdNonDecrypt}");
            Navigation.NavigateTo(url);
        }


        public async Task SearchStudentUP(StudentUPListSearchVm studentUPListSearch)
        {
            studentUPListSearchVm = studentUPListSearch;
            foreach (var item in _lststudentUpDtosALL)
        {
            var a = _lstStudentUpCheck.FirstOrDefault(c => c.Id == item.Id);
            a.IsChecked = item.IsChecked;
        }
            await GetTasks();
        }

    private async void ChangedClassName(ChangeEventArgs args)
    {
        bindtext = Convert.ToString(args.Value);
        if (_lsclassUps.Any(c => c.ClassroomName == Convert.ToString(args.Value)))
        {
            DeleConfirmation.show();
        }

    }
    public async Task OnConfirmationDelete(bool deleteconfirmed)
    {
        if (deleteconfirmed)
        {
            for (int i = 0; i < _lsclassUps.Count; i++)
            {
                if (_lsclassUps[i].ClassroomName == bindtext)
                {
                    CP = await _iClassSubjectApiClient.GetClassUPByIdClass(_lsclassUps[i].Id);
                }
            }

            subjectClassVM = new SubjectClassVM()
                {
                    ClassroomName = CP.ClassroomName,
                    Building = CP.Building,
                };
            
        }
    }


#line default
#line hidden
#nullable disable
    }
}
namespace __Blazor.FPLSP.Pages.GiaoVienLop.CreatClassLeccu
{
    #line hidden
    internal static class TypeInference
    {
        public static void CreateValidationMessage_0<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_1<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateInputNumber_2<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, TValue __arg1, int __seq2, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg2, int __seq3, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg3)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputNumber<TValue>>(seq);
        __builder.AddAttribute(__seq0, "class", __arg0);
        __builder.AddAttribute(__seq1, "Value", __arg1);
        __builder.AddAttribute(__seq2, "ValueChanged", __arg2);
        __builder.AddAttribute(__seq3, "ValueExpression", __arg3);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_3<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateInputDate_4<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Object __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputDate<TValue>>(seq);
        __builder.AddAttribute(__seq0, "id", __arg0);
        __builder.AddAttribute(__seq1, "class", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ValueExpression", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_5<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
        public static void CreateInputDate_6<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Object __arg0, int __seq1, global::System.Object __arg1, int __seq2, TValue __arg2, int __seq3, global::Microsoft.AspNetCore.Components.EventCallback<TValue> __arg3, int __seq4, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg4)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.InputDate<TValue>>(seq);
        __builder.AddAttribute(__seq0, "id", __arg0);
        __builder.AddAttribute(__seq1, "class", __arg1);
        __builder.AddAttribute(__seq2, "Value", __arg2);
        __builder.AddAttribute(__seq3, "ValueChanged", __arg3);
        __builder.AddAttribute(__seq4, "ValueExpression", __arg4);
        __builder.CloseComponent();
        }
        public static void CreateValidationMessage_7<TValue>(global::Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder, int seq, int __seq0, global::System.Linq.Expressions.Expression<global::System.Func<TValue>> __arg0)
        {
        __builder.OpenComponent<global::Microsoft.AspNetCore.Components.Forms.ValidationMessage<TValue>>(seq);
        __builder.AddAttribute(__seq0, "For", __arg0);
        __builder.CloseComponent();
        }
    }
}
#pragma warning restore 1591
